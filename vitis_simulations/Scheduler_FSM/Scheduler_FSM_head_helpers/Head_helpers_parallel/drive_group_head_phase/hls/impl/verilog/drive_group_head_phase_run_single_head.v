// ==============================================================
// Generated by Vitis HLS v2025.1
// Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
// Copyright 2022-2025 Advanced Micro Devices, Inc. All Rights Reserved.
// ==============================================================

`timescale 1 ns / 1 ps 

module drive_group_head_phase_run_single_head (
        ap_clk,
        ap_rst,
        ap_start,
        ap_done,
        ap_idle,
        ap_ready,
        head_ctx_ref_address0,
        head_ctx_ref_ce0,
        head_ctx_ref_we0,
        head_ctx_ref_d0,
        head_ctx_ref_q0,
        ctx,
        layer_idx,
        start_r,
        ap_return
);

parameter    ap_ST_fsm_state1 = 4'd1;
parameter    ap_ST_fsm_state2 = 4'd2;
parameter    ap_ST_fsm_state3 = 4'd4;
parameter    ap_ST_fsm_state4 = 4'd8;

input   ap_clk;
input   ap_rst;
input   ap_start;
output   ap_done;
output   ap_idle;
output   ap_ready;
output  [1:0] head_ctx_ref_address0;
output   head_ctx_ref_ce0;
output   head_ctx_ref_we0;
output  [50:0] head_ctx_ref_d0;
input  [50:0] head_ctx_ref_q0;
input  [4:0] ctx;
input  [31:0] layer_idx;
input  [0:0] start_r;
output  [0:0] ap_return;

reg ap_done;
reg ap_idle;
reg ap_ready;
reg[0:0] ap_return;

(* fsm_encoding = "none" *) reg   [3:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
reg   [0:0] Q_started;
reg   [0:0] K_started;
reg   [0:0] V_started;
reg   [0:0] att_scores_started;
reg   [0:0] val_scale_started;
reg   [0:0] softmax_started;
reg   [0:0] att_value_started;
reg   [1:0] head_ctx_ref_addr_reg_2829;
wire   [2:0] trunc_ln42_fu_2036_p1;
reg   [2:0] trunc_ln42_reg_2834;
wire   [0:0] start_read_read_fu_124_p2;
wire    ap_CS_fsm_state2;
wire   [50:0] zext_ln42_1_fu_2047_p1;
reg   [50:0] zext_ln42_1_reg_2849;
wire   [41:0] trunc_ln42_1_fu_2057_p1;
wire   [0:0] icmp_ln46_fu_2076_p2;
reg   [0:0] icmp_ln46_reg_2880;
wire   [7:0] trunc_ln1_fu_2123_p4;
reg   [7:0] trunc_ln1_reg_2919;
wire    ap_CS_fsm_state3;
wire   [0:0] or_ln158_fu_2179_p2;
reg   [0:0] or_ln158_reg_2924;
wire   [0:0] grp_fu_2003_p3;
reg   [0:0] tmp_25_reg_2928;
wire   [0:0] or_ln148_fu_2199_p2;
reg   [0:0] or_ln148_reg_2932;
reg   [0:0] tmp_23_reg_2936;
wire   [0:0] or_ln138_fu_2219_p2;
reg   [0:0] or_ln138_reg_2940;
reg   [0:0] tmp_21_reg_2944;
wire   [0:0] or_ln128_fu_2239_p2;
reg   [0:0] or_ln128_reg_2948;
reg   [0:0] tmp_19_reg_2952;
wire   [0:0] or_ln108_fu_2259_p2;
reg   [0:0] or_ln108_reg_2956;
reg   [0:0] tmp_17_reg_2960;
wire   [0:0] or_ln91_fu_2279_p2;
reg   [0:0] or_ln91_reg_2964;
reg   [0:0] tmp_15_reg_2968;
wire   [0:0] or_ln80_fu_2299_p2;
reg   [0:0] or_ln80_reg_2972;
reg   [0:0] tmp_13_reg_2976;
reg   [0:0] ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
reg   [0:0] Q_started_flag_0_reg_149;
reg   [0:0] ap_phi_mux_Q_started_loc_0_phi_fu_165_p4;
reg   [0:0] Q_started_loc_0_reg_162;
reg   [0:0] ap_phi_mux_K_started_loc_0_phi_fu_176_p4;
reg   [0:0] K_started_loc_0_reg_173;
reg   [0:0] ap_phi_mux_V_started_loc_0_phi_fu_187_p4;
reg   [0:0] V_started_loc_0_reg_184;
reg   [0:0] ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4;
reg   [0:0] att_scores_started_loc_0_reg_195;
reg   [0:0] ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4;
reg   [0:0] val_scale_started_loc_0_reg_206;
reg   [0:0] ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4;
reg   [0:0] softmax_started_loc_0_reg_217;
reg   [0:0] ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4;
reg   [0:0] att_value_started_loc_0_reg_228;
reg   [41:0] ap_phi_mux_empty_phi_fu_242_p4;
reg   [41:0] empty_reg_239;
wire   [41:0] zext_ln11_fu_2113_p1;
reg   [0:0] ap_phi_mux_Q_started_flag_1_phi_fu_252_p74;
reg   [0:0] Q_started_flag_1_reg_249;
wire    ap_CS_fsm_state4;
reg   [0:0] ap_phi_mux_Q_started_new_1_phi_fu_369_p74;
reg   [0:0] Q_started_new_1_reg_365;
reg   [0:0] ap_phi_mux_K_started_flag_1_phi_fu_485_p74;
reg   [0:0] K_started_flag_1_reg_482;
reg   [0:0] ap_phi_mux_K_started_new_1_phi_fu_602_p74;
reg   [0:0] K_started_new_1_reg_598;
reg   [0:0] ap_phi_mux_V_started_flag_1_phi_fu_718_p74;
reg   [0:0] V_started_flag_1_reg_715;
reg   [0:0] ap_phi_mux_V_started_new_1_phi_fu_835_p74;
reg   [0:0] V_started_new_1_reg_831;
reg   [0:0] ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74;
reg   [0:0] att_scores_started_flag_1_reg_948;
reg   [0:0] ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74;
reg   [0:0] att_scores_started_new_1_reg_1064;
reg   [0:0] ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74;
reg   [0:0] val_scale_started_flag_1_reg_1181;
reg   [0:0] ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74;
reg   [0:0] val_scale_started_new_1_reg_1297;
reg   [0:0] ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74;
reg   [0:0] softmax_started_flag_1_reg_1414;
reg   [0:0] ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74;
reg   [0:0] softmax_started_new_1_reg_1530;
reg   [0:0] ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74;
reg   [0:0] att_value_started_flag_1_reg_1647;
reg   [0:0] ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74;
reg   [0:0] att_value_started_new_1_reg_1763;
reg   [7:0] ap_phi_mux_empty_13_phi_fu_1891_p74;
reg   [7:0] empty_13_reg_1880;
wire   [63:0] zext_ln42_fu_2031_p1;
reg    head_ctx_ref_ce0_local;
reg   [1:0] head_ctx_ref_address0_local;
reg    head_ctx_ref_we0_local;
reg   [50:0] head_ctx_ref_d0_local;
wire   [50:0] shl_ln43_fu_2065_p2;
wire   [50:0] shl_ln11_fu_2117_p2;
wire   [50:0] shl_ln168_fu_2323_p2;
wire   [50:0] shl_ln160_fu_2345_p2;
wire   [50:0] shl_ln163_fu_2369_p2;
wire   [50:0] shl_ln150_fu_2391_p2;
wire   [50:0] shl_ln153_fu_2415_p2;
wire   [50:0] shl_ln140_fu_2433_p2;
wire   [50:0] shl_ln143_fu_2457_p2;
wire   [50:0] shl_ln130_fu_2475_p2;
wire   [50:0] shl_ln133_fu_2499_p2;
wire   [50:0] shl_ln125_fu_2523_p2;
wire   [50:0] shl_ln122_fu_2547_p2;
wire   [50:0] shl_ln119_fu_2571_p2;
wire   [50:0] shl_ln110_fu_2593_p2;
wire   [50:0] shl_ln114_fu_2617_p2;
wire   [50:0] shl_ln105_fu_2641_p2;
wire   [50:0] shl_ln102_fu_2665_p2;
wire   [50:0] shl_ln93_fu_2683_p2;
wire   [50:0] shl_ln97_fu_2707_p2;
wire   [50:0] shl_ln82_fu_2729_p2;
wire   [50:0] shl_ln86_fu_2753_p2;
wire   [50:0] shl_ln76_fu_2775_p2;
wire   [1:0] lshr_ln42_1_fu_2021_p4;
wire   [5:0] shl_ln_fu_2040_p3;
wire   [50:0] lshr_ln42_fu_2051_p2;
wire   [50:0] zext_ln43_fu_2061_p1;
wire   [31:0] trunc_ln46_fu_2072_p1;
wire   [50:0] zext_ln6_fu_2110_p1;
wire   [0:0] tmp_12_fu_2165_p3;
wire   [0:0] xor_ln158_fu_2173_p2;
wire   [0:0] tmp_10_fu_2185_p3;
wire   [0:0] xor_ln148_fu_2193_p2;
wire   [0:0] tmp_8_fu_2205_p3;
wire   [0:0] xor_ln138_fu_2213_p2;
wire   [0:0] tmp_6_fu_2225_p3;
wire   [0:0] xor_ln128_fu_2233_p2;
wire   [0:0] tmp_4_fu_2245_p3;
wire   [0:0] xor_ln108_fu_2253_p2;
wire   [0:0] tmp_2_fu_2265_p3;
wire   [0:0] xor_ln91_fu_2273_p2;
wire   [0:0] tmp_fu_2285_p3;
wire   [0:0] xor_ln80_fu_2293_p2;
wire   [1:0] grp_fu_2011_p4;
wire   [31:0] trunc_ln168_fu_2305_p1;
wire   [41:0] or_ln5_fu_2309_p4;
wire   [50:0] zext_ln168_fu_2319_p1;
wire   [42:0] or_ln8_fu_2329_p3;
wire  signed [45:0] sext_ln160_fu_2337_p1;
wire   [50:0] zext_ln160_fu_2341_p1;
wire   [31:0] trunc_ln163_fu_2351_p1;
wire   [41:0] or_ln16_fu_2355_p4;
wire   [50:0] zext_ln163_fu_2365_p1;
wire   [44:0] or_ln6_fu_2375_p3;
wire  signed [45:0] sext_ln150_fu_2383_p1;
wire   [50:0] zext_ln150_fu_2387_p1;
wire   [31:0] trunc_ln153_fu_2397_p1;
wire   [41:0] or_ln15_fu_2401_p4;
wire   [50:0] zext_ln153_fu_2411_p1;
wire   [45:0] zext_ln140_cast_fu_2421_p3;
wire   [50:0] zext_ln140_fu_2429_p1;
wire   [31:0] trunc_ln143_fu_2439_p1;
wire   [41:0] or_ln14_fu_2443_p4;
wire   [50:0] zext_ln143_fu_2453_p1;
wire   [45:0] zext_ln130_cast_fu_2463_p3;
wire   [50:0] zext_ln130_fu_2471_p1;
wire   [31:0] trunc_ln133_fu_2481_p1;
wire   [41:0] or_ln13_fu_2485_p4;
wire   [50:0] zext_ln133_fu_2495_p1;
wire   [31:0] trunc_ln125_fu_2505_p1;
wire   [41:0] or_ln4_fu_2509_p4;
wire   [50:0] zext_ln125_fu_2519_p1;
wire   [31:0] trunc_ln122_fu_2529_p1;
wire   [41:0] or_ln3_fu_2533_p4;
wire   [50:0] zext_ln122_fu_2543_p1;
wire   [31:0] trunc_ln119_fu_2553_p1;
wire   [41:0] or_ln2_fu_2557_p4;
wire   [50:0] zext_ln119_fu_2567_p1;
wire   [42:0] or_ln9_fu_2577_p3;
wire  signed [44:0] sext_ln110_fu_2585_p1;
wire   [50:0] zext_ln110_fu_2589_p1;
wire   [31:0] trunc_ln114_fu_2599_p1;
wire   [41:0] or_ln12_fu_2603_p4;
wire   [50:0] zext_ln114_fu_2613_p1;
wire   [31:0] trunc_ln105_fu_2623_p1;
wire   [41:0] or_ln1_fu_2627_p4;
wire   [50:0] zext_ln105_fu_2637_p1;
wire   [31:0] trunc_ln102_fu_2647_p1;
wire   [41:0] or_ln_fu_2651_p4;
wire   [50:0] zext_ln102_fu_2661_p1;
wire   [44:0] zext_ln93_cast_fu_2671_p3;
wire   [50:0] zext_ln93_fu_2679_p1;
wire   [31:0] trunc_ln97_fu_2689_p1;
wire   [41:0] or_ln11_fu_2693_p4;
wire   [50:0] zext_ln97_fu_2703_p1;
wire   [42:0] or_ln7_fu_2713_p3;
wire  signed [43:0] sext_ln82_fu_2721_p1;
wire   [50:0] zext_ln82_fu_2725_p1;
wire   [31:0] trunc_ln86_fu_2735_p1;
wire   [41:0] or_ln10_fu_2739_p4;
wire   [50:0] zext_ln86_fu_2749_p1;
wire   [31:0] trunc_ln76_fu_2759_p1;
wire   [32:0] zext_ln76_cast_fu_2763_p3;
wire   [50:0] zext_ln76_fu_2771_p1;
wire   [0:0] finished_fu_2781_p2;
reg   [0:0] ap_return_preg;
reg   [3:0] ap_NS_fsm;
reg    ap_ST_fsm_state1_blk;
wire    ap_ST_fsm_state2_blk;
wire    ap_ST_fsm_state3_blk;
wire    ap_ST_fsm_state4_blk;
wire    ap_ce_reg;

// power-on initialization
initial begin
#0 ap_CS_fsm = 4'd1;
#0 Q_started = 1'd0;
#0 K_started = 1'd0;
#0 V_started = 1'd0;
#0 att_scores_started = 1'd0;
#0 val_scale_started = 1'd0;
#0 softmax_started = 1'd0;
#0 att_value_started = 1'd0;
#0 ap_return_preg = 1'd0;
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        K_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_K_started_flag_1_phi_fu_485_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            K_started <= ap_phi_mux_K_started_new_1_phi_fu_602_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        Q_started <= 1'd0;
    end else begin
        if (((1'b1 == ap_CS_fsm_state4) & (ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 == 1'd1))) begin
            Q_started <= ap_phi_mux_Q_started_new_1_phi_fu_369_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        V_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_V_started_flag_1_phi_fu_718_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            V_started <= ap_phi_mux_V_started_new_1_phi_fu_835_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_return_preg <= 1'd0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state4)) begin
            ap_return_preg <= finished_fu_2781_p2;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        att_scores_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            att_scores_started <= ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        att_value_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            att_value_started <= ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        softmax_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            softmax_started <= ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        val_scale_started <= 1'd0;
    end else begin
        if (((ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            val_scale_started <= ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74;
        end
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)))) begin
        K_started_flag_1_reg_482 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        K_started_flag_1_reg_482 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        K_started_flag_1_reg_482 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        K_started_loc_0_reg_173 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        K_started_loc_0_reg_173 <= K_started;
    end
end

always @ (posedge ap_clk) begin
    if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0))) begin
        K_started_new_1_reg_598 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 
    == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 
    == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        K_started_new_1_reg_598 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        Q_started_flag_0_reg_149 <= 1'd1;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        Q_started_flag_0_reg_149 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)))) begin
        Q_started_flag_1_reg_249 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        Q_started_flag_1_reg_249 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        Q_started_flag_1_reg_249 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        Q_started_loc_0_reg_162 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        Q_started_loc_0_reg_162 <= Q_started;
    end
end

always @ (posedge ap_clk) begin
    if (((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0))) begin
        Q_started_new_1_reg_365 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 
    == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 
    == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        Q_started_new_1_reg_365 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)))) begin
        V_started_flag_1_reg_715 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        V_started_flag_1_reg_715 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        V_started_flag_1_reg_715 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        V_started_loc_0_reg_184 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        V_started_loc_0_reg_184 <= V_started;
    end
end

always @ (posedge ap_clk) begin
    if (((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4))) begin
        V_started_new_1_reg_831 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 
    == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 
    == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        V_started_new_1_reg_831 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)))) begin
        att_scores_started_flag_1_reg_948 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        att_scores_started_flag_1_reg_948 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        att_scores_started_flag_1_reg_948 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        att_scores_started_loc_0_reg_195 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        att_scores_started_loc_0_reg_195 <= att_scores_started;
    end
end

always @ (posedge ap_clk) begin
    if (((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4))) begin
        att_scores_started_new_1_reg_1064 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & 
    (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 
    == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        att_scores_started_new_1_reg_1064 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)))) begin
        att_value_started_flag_1_reg_1647 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        att_value_started_flag_1_reg_1647 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        att_value_started_flag_1_reg_1647 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        att_value_started_loc_0_reg_228 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        att_value_started_loc_0_reg_228 <= att_value_started;
    end
end

always @ (posedge ap_clk) begin
    if (((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4))) begin
        att_value_started_new_1_reg_1763 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & 
    (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) 
    & (softmax_started_loc_0_reg_217 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        att_value_started_new_1_reg_1763 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        empty_13_reg_1880 <= 8'd0;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)))) begin
        empty_13_reg_1880 <= 8'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)))) begin
        empty_13_reg_1880 <= 8'd2;
    end else if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1))) begin
        empty_13_reg_1880 <= 8'd3;
    end else if (((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4))) begin
        empty_13_reg_1880 <= 8'd4;
    end else if ((((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)))) begin
        empty_13_reg_1880 <= 8'd5;
    end else if (((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184))) begin
        empty_13_reg_1880 <= 8'd6;
    end else if (((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4))) begin
        empty_13_reg_1880 <= 8'd7;
    end else if (((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4))) begin
        empty_13_reg_1880 <= 8'd8;
    end else if ((((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)))) begin
        empty_13_reg_1880 <= 8'd9;
    end else if ((((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)))) begin
        empty_13_reg_1880 <= 8'd10;
    end else if ((((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)))) begin
        empty_13_reg_1880 <= 8'd11;
    end else if ((((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)))) begin
        empty_13_reg_1880 <= 8'd12;
    end else if (((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1))) begin
        empty_13_reg_1880 <= 8'd13;
    end else if (((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4))) begin
        empty_13_reg_1880 <= 8'd14;
    end else if ((~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        empty_13_reg_1880 <= {{ap_phi_mux_empty_phi_fu_242_p4[39:32]}};
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        empty_reg_239 <= zext_ln11_fu_2113_p1;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        empty_reg_239 <= trunc_ln42_1_fu_2057_p1;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)))) begin
        softmax_started_flag_1_reg_1414 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        softmax_started_flag_1_reg_1414 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        softmax_started_flag_1_reg_1414 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        softmax_started_loc_0_reg_217 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        softmax_started_loc_0_reg_217 <= softmax_started;
    end
end

always @ (posedge ap_clk) begin
    if (((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4))) begin
        softmax_started_new_1_reg_1530 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & 
    (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        softmax_started_new_1_reg_1530 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)))) begin
        val_scale_started_flag_1_reg_1181 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        val_scale_started_flag_1_reg_1181 <= Q_started_flag_0_reg_149;
    end else if ((((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) 
    | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 
    == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        val_scale_started_flag_1_reg_1181 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
    end
end

always @ (posedge ap_clk) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        val_scale_started_loc_0_reg_206 <= 1'd0;
    end else if (((icmp_ln46_fu_2076_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
        val_scale_started_loc_0_reg_206 <= val_scale_started;
    end
end

always @ (posedge ap_clk) begin
    if (((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4))) begin
        val_scale_started_new_1_reg_1297 <= 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd5) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln108_fu_2259_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd5) & 
    (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 == 1'd0)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln128_fu_2239_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd9) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 == 1'd0)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 
    == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln138_fu_2219_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd10) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 == 1'd0)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3)) | ((or_ln148_fu_2199_p2 == 1'd1) & (grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd11) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 == 1'd0)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 
    == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((grp_fu_2003_p3 == 1'd0) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd0) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (or_ln80_fu_2299_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (or_ln158_fu_2179_p2 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd12) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 == 1'd0)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd2) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 == 1'd0) & (or_ln91_fu_2279_p2 == 1'd1)) | ((grp_fu_2003_p3 == 1'd1) & (trunc_ln1_fu_2123_p4 == 8'd1) & (1'b1 == ap_CS_fsm_state3) & (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 == 1'd0) & (or_ln80_fu_2299_p2 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 
    8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | (~(trunc_ln1_fu_2123_p4 == 8'd13) & ~(trunc_ln1_fu_2123_p4 == 8'd12) & ~(trunc_ln1_fu_2123_p4 == 8'd11) & ~(trunc_ln1_fu_2123_p4 == 8'd10) & ~(trunc_ln1_fu_2123_p4 == 8'd9) & ~(trunc_ln1_fu_2123_p4 == 8'd8) & ~(trunc_ln1_fu_2123_p4 == 8'd7) & ~(trunc_ln1_fu_2123_p4 == 8'd6) & ~(trunc_ln1_fu_2123_p4 == 8'd5) & ~(trunc_ln1_fu_2123_p4 == 8'd4) & ~(trunc_ln1_fu_2123_p4 == 8'd3) & ~(trunc_ln1_fu_2123_p4 == 8'd2) & ~(trunc_ln1_fu_2123_p4 == 8'd1) & ~(trunc_ln1_fu_2123_p4 == 8'd0) & (1'b1 == ap_CS_fsm_state3)) | ((trunc_ln1_fu_2123_p4 == 8'd0) & (start_read_read_fu_124_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        val_scale_started_new_1_reg_1297 <= 1'd0;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state1)) begin
        head_ctx_ref_addr_reg_2829 <= zext_ln42_fu_2031_p1;
        trunc_ln42_reg_2834 <= trunc_ln42_fu_2036_p1;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        icmp_ln46_reg_2880 <= icmp_ln46_fu_2076_p2;
        zext_ln42_1_reg_2849[5 : 3] <= zext_ln42_1_fu_2047_p1[5 : 3];
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state3)) begin
        or_ln108_reg_2956 <= or_ln108_fu_2259_p2;
        or_ln128_reg_2948 <= or_ln128_fu_2239_p2;
        or_ln138_reg_2940 <= or_ln138_fu_2219_p2;
        or_ln148_reg_2932 <= or_ln148_fu_2199_p2;
        or_ln158_reg_2924 <= or_ln158_fu_2179_p2;
        or_ln80_reg_2972 <= or_ln80_fu_2299_p2;
        or_ln91_reg_2964 <= or_ln91_fu_2279_p2;
        tmp_13_reg_2976 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_15_reg_2968 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_17_reg_2960 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_19_reg_2952 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_21_reg_2944 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_23_reg_2936 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        tmp_25_reg_2928 <= ap_phi_mux_empty_phi_fu_242_p4[32'd41];
        trunc_ln1_reg_2919 <= {{ap_phi_mux_empty_phi_fu_242_p4[39:32]}};
    end
end

always @ (*) begin
    if ((ap_start == 1'b0)) begin
        ap_ST_fsm_state1_blk = 1'b1;
    end else begin
        ap_ST_fsm_state1_blk = 1'b0;
    end
end

assign ap_ST_fsm_state2_blk = 1'b0;

assign ap_ST_fsm_state3_blk = 1'b0;

assign ap_ST_fsm_state4_blk = 1'b0;

always @ (*) begin
    if (((1'b1 == ap_CS_fsm_state4) | ((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1)))) begin
        ap_done = 1'b1;
    end else begin
        ap_done = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1))) begin
        ap_idle = 1'b1;
    end else begin
        ap_idle = 1'b0;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)))) begin
        ap_phi_mux_K_started_flag_1_phi_fu_485_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_K_started_flag_1_phi_fu_485_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_K_started_flag_1_phi_fu_485_p74 = K_started_flag_1_reg_482;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = 1'd0;
    end else begin
        ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = K_started_loc_0_reg_173;
    end
end

always @ (*) begin
    if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0))) begin
        ap_phi_mux_K_started_new_1_phi_fu_602_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) 
    & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_K_started_new_1_phi_fu_602_p74 = 1'd0;
    end else begin
        ap_phi_mux_K_started_new_1_phi_fu_602_p74 = K_started_new_1_reg_598;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_Q_started_flag_0_phi_fu_153_p4 = 1'd1;
    end else begin
        ap_phi_mux_Q_started_flag_0_phi_fu_153_p4 = Q_started_flag_0_reg_149;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)))) begin
        ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 = Q_started_flag_1_reg_249;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = 1'd0;
    end else begin
        ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = Q_started_loc_0_reg_162;
    end
end

always @ (*) begin
    if (((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0))) begin
        ap_phi_mux_Q_started_new_1_phi_fu_369_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) 
    & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_Q_started_new_1_phi_fu_369_p74 = 1'd0;
    end else begin
        ap_phi_mux_Q_started_new_1_phi_fu_369_p74 = Q_started_new_1_reg_365;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)))) begin
        ap_phi_mux_V_started_flag_1_phi_fu_718_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 
    == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_V_started_flag_1_phi_fu_718_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_V_started_flag_1_phi_fu_718_p74 = V_started_flag_1_reg_715;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = 1'd0;
    end else begin
        ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = V_started_loc_0_reg_184;
    end
end

always @ (*) begin
    if (((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_V_started_new_1_phi_fu_835_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) 
    & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_V_started_new_1_phi_fu_835_p74 = 1'd0;
    end else begin
        ap_phi_mux_V_started_new_1_phi_fu_835_p74 = V_started_new_1_reg_831;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)))) begin
        ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 = att_scores_started_flag_1_reg_948;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = 1'd0;
    end else begin
        ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = att_scores_started_loc_0_reg_195;
    end
end

always @ (*) begin
    if (((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) 
    | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 = 1'd0;
    end else begin
        ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 = att_scores_started_new_1_reg_1064;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)))) begin
        ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 = att_value_started_flag_1_reg_1647;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = 1'd0;
    end else begin
        ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = att_value_started_loc_0_reg_228;
    end
end

always @ (*) begin
    if (((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) 
    | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 = 1'd0;
    end else begin
        ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 = att_value_started_new_1_reg_1763;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd2;
    end else if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd3;
    end else if (((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd4;
    end else if ((((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd5;
    end else if (((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd6;
    end else if (((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd7;
    end else if (((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd8;
    end else if ((((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd9;
    end else if ((((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd10;
    end else if ((((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd11;
    end else if ((((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd12;
    end else if (((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd13;
    end else if (((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = 8'd14;
    end else begin
        ap_phi_mux_empty_13_phi_fu_1891_p74 = empty_13_reg_1880;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_empty_phi_fu_242_p4 = zext_ln11_fu_2113_p1;
    end else begin
        ap_phi_mux_empty_phi_fu_242_p4 = empty_reg_239;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)))) begin
        ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 = softmax_started_flag_1_reg_1414;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = 1'd0;
    end else begin
        ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = softmax_started_loc_0_reg_217;
    end
end

always @ (*) begin
    if (((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) 
    | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 = 1'd0;
    end else begin
        ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 = softmax_started_new_1_reg_1530;
    end
end

always @ (*) begin
    if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)))) begin
        ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 
    == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 = Q_started_flag_0_reg_149;
    end else begin
        ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 = val_scale_started_flag_1_reg_1181;
    end
end

always @ (*) begin
    if (((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3))) begin
        ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = 1'd0;
    end else begin
        ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = val_scale_started_loc_0_reg_206;
    end
end

always @ (*) begin
    if (((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4))) begin
        ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 = 1'd1;
    end else if ((((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) 
    | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 
    == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 = 1'd0;
    end else begin
        ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 = val_scale_started_new_1_reg_1297;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        ap_ready = 1'b1;
    end else begin
        ap_ready = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        ap_return = finished_fu_2781_p2;
    end else begin
        ap_return = ap_return_preg;
    end
end

always @ (*) begin
    if (((1'b1 == ap_CS_fsm_state3) | (1'b1 == ap_CS_fsm_state2) | ((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 
    == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) 
    | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        head_ctx_ref_address0_local = head_ctx_ref_addr_reg_2829;
    end else if ((1'b1 == ap_CS_fsm_state1)) begin
        head_ctx_ref_address0_local = zext_ln42_fu_2031_p1;
    end else begin
        head_ctx_ref_address0_local = 'bx;
    end
end

always @ (*) begin
    if (((1'b1 == ap_CS_fsm_state3) | (1'b1 == ap_CS_fsm_state2) | ((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1)) | ((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) 
    & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) 
    & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)))) begin
        head_ctx_ref_ce0_local = 1'b1;
    end else begin
        head_ctx_ref_ce0_local = 1'b0;
    end
end

always @ (*) begin
    if (((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln76_fu_2775_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln86_fu_2753_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0))) begin
        head_ctx_ref_d0_local = shl_ln82_fu_2729_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln97_fu_2707_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0))) begin
        head_ctx_ref_d0_local = shl_ln93_fu_2683_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln102_fu_2665_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln105_fu_2641_p2;
    end else if (((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184))) begin
        head_ctx_ref_d0_local = shl_ln114_fu_2617_p2;
    end else if (((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln110_fu_2593_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd6) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln119_fu_2571_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln122_fu_2547_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln125_fu_2523_p2;
    end else if (((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln133_fu_2499_p2;
    end else if (((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln130_fu_2475_p2;
    end else if (((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln143_fu_2457_p2;
    end else if (((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln140_fu_2433_p2;
    end else if (((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln153_fu_2415_p2;
    end else if (((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln150_fu_2391_p2;
    end else if (((tmp_25_reg_2928 == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1))) begin
        head_ctx_ref_d0_local = shl_ln163_fu_2369_p2;
    end else if (((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln160_fu_2345_p2;
    end else if (((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4))) begin
        head_ctx_ref_d0_local = shl_ln168_fu_2323_p2;
    end else if ((1'b1 == ap_CS_fsm_state3)) begin
        head_ctx_ref_d0_local = shl_ln11_fu_2117_p2;
    end else if ((1'b1 == ap_CS_fsm_state2)) begin
        head_ctx_ref_d0_local = shl_ln43_fu_2065_p2;
    end else begin
        head_ctx_ref_d0_local = 'bx;
    end
end

always @ (*) begin
    if (((1'b1 == ap_CS_fsm_state2) | ((trunc_ln1_reg_2919 == 8'd0) & (start_read_read_fu_124_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (or_ln80_reg_2972 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd1) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == Q_started_loc_0_reg_162) & (tmp_13_reg_2976 == 1'd1) & (or_ln80_reg_2972 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (or_ln91_reg_2964 == 1'd0)) | ((trunc_ln1_reg_2919 == 8'd2) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == K_started_loc_0_reg_173) & (tmp_15_reg_2968 == 1'd1) & (or_ln91_reg_2964 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd3) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd4) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln108_reg_2956 == 1'd0) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_17_reg_2960 == 1'd1) & (or_ln108_reg_2956 == 1'd1) & (trunc_ln1_reg_2919 == 8'd5) & (1'b1 == ap_CS_fsm_state4) & (1'd1 == V_started_loc_0_reg_184)) | ((trunc_ln1_reg_2919 == 8'd6) & 
    (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd7) & (1'b1 == ap_CS_fsm_state4)) | ((trunc_ln1_reg_2919 == 8'd8) & (1'b1 == ap_CS_fsm_state4)) | ((or_ln128_reg_2948 == 1'd0) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_19_reg_2952 == 1'd1) & (or_ln128_reg_2948 == 1'd1) & (trunc_ln1_reg_2919 == 8'd9) & (1'b1 == ap_CS_fsm_state4) & (att_scores_started_loc_0_reg_195 == 1'd1)) | ((or_ln138_reg_2940 == 1'd0) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_21_reg_2944 == 1'd1) & (or_ln138_reg_2940 == 1'd1) & (trunc_ln1_reg_2919 == 8'd10) & (1'b1 == ap_CS_fsm_state4) & (val_scale_started_loc_0_reg_206 == 1'd1)) | ((or_ln148_reg_2932 == 1'd0) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_23_reg_2936 == 1'd1) & (or_ln148_reg_2932 == 1'd1) & (trunc_ln1_reg_2919 == 8'd11) & (1'b1 == ap_CS_fsm_state4) & (softmax_started_loc_0_reg_217 == 1'd1)) | ((or_ln158_reg_2924 == 1'd0) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4)) | ((tmp_25_reg_2928 
    == 1'd1) & (or_ln158_reg_2924 == 1'd1) & (trunc_ln1_reg_2919 == 8'd12) & (1'b1 == ap_CS_fsm_state4) & (att_value_started_loc_0_reg_228 == 1'd1)) | ((trunc_ln1_reg_2919 == 8'd13) & (1'b1 == ap_CS_fsm_state4)) | ((icmp_ln46_reg_2880 == 1'd0) & (1'b1 == ap_CS_fsm_state3)))) begin
        head_ctx_ref_we0_local = 1'b1;
    end else begin
        head_ctx_ref_we0_local = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            if (((ap_start == 1'b1) & (1'b1 == ap_CS_fsm_state1))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end
        end
        ap_ST_fsm_state2 : begin
            ap_NS_fsm = ap_ST_fsm_state3;
        end
        ap_ST_fsm_state3 : begin
            ap_NS_fsm = ap_ST_fsm_state4;
        end
        ap_ST_fsm_state4 : begin
            ap_NS_fsm = ap_ST_fsm_state1;
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

assign ap_CS_fsm_state2 = ap_CS_fsm[32'd1];

assign ap_CS_fsm_state3 = ap_CS_fsm[32'd2];

assign ap_CS_fsm_state4 = ap_CS_fsm[32'd3];

assign finished_fu_2781_p2 = ((ap_phi_mux_empty_13_phi_fu_1891_p74 == 8'd14) ? 1'b1 : 1'b0);

assign grp_fu_2003_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd41];

assign grp_fu_2011_p4 = {{empty_reg_239[41:40]}};

assign head_ctx_ref_address0 = head_ctx_ref_address0_local;

assign head_ctx_ref_ce0 = head_ctx_ref_ce0_local;

assign head_ctx_ref_d0 = head_ctx_ref_d0_local;

assign head_ctx_ref_we0 = head_ctx_ref_we0_local;

assign icmp_ln46_fu_2076_p2 = ((trunc_ln46_fu_2072_p1 == layer_idx) ? 1'b1 : 1'b0);

assign lshr_ln42_1_fu_2021_p4 = {{ctx[4:3]}};

assign lshr_ln42_fu_2051_p2 = head_ctx_ref_q0 >> zext_ln42_1_fu_2047_p1;

assign or_ln108_fu_2259_p2 = (xor_ln108_fu_2253_p2 | ap_phi_mux_V_started_loc_0_phi_fu_187_p4);

assign or_ln10_fu_2739_p4 = {{{grp_fu_2011_p4}, {8'd2}}, {trunc_ln86_fu_2735_p1}};

assign or_ln11_fu_2693_p4 = {{{grp_fu_2011_p4}, {8'd3}}, {trunc_ln97_fu_2689_p1}};

assign or_ln128_fu_2239_p2 = (xor_ln128_fu_2233_p2 | ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4);

assign or_ln12_fu_2603_p4 = {{{grp_fu_2011_p4}, {8'd6}}, {trunc_ln114_fu_2599_p1}};

assign or_ln138_fu_2219_p2 = (xor_ln138_fu_2213_p2 | ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4);

assign or_ln13_fu_2485_p4 = {{{grp_fu_2011_p4}, {8'd10}}, {trunc_ln133_fu_2481_p1}};

assign or_ln148_fu_2199_p2 = (xor_ln148_fu_2193_p2 | ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4);

assign or_ln14_fu_2443_p4 = {{{grp_fu_2011_p4}, {8'd11}}, {trunc_ln143_fu_2439_p1}};

assign or_ln158_fu_2179_p2 = (xor_ln158_fu_2173_p2 | ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4);

assign or_ln15_fu_2401_p4 = {{{grp_fu_2011_p4}, {8'd12}}, {trunc_ln153_fu_2397_p1}};

assign or_ln16_fu_2355_p4 = {{{grp_fu_2011_p4}, {8'd13}}, {trunc_ln163_fu_2351_p1}};

assign or_ln1_fu_2627_p4 = {{{grp_fu_2011_p4}, {8'd5}}, {trunc_ln105_fu_2623_p1}};

assign or_ln2_fu_2557_p4 = {{{grp_fu_2011_p4}, {8'd7}}, {trunc_ln119_fu_2553_p1}};

assign or_ln3_fu_2533_p4 = {{{grp_fu_2011_p4}, {8'd8}}, {trunc_ln122_fu_2529_p1}};

assign or_ln4_fu_2509_p4 = {{{grp_fu_2011_p4}, {8'd9}}, {trunc_ln125_fu_2505_p1}};

assign or_ln5_fu_2309_p4 = {{{grp_fu_2011_p4}, {8'd14}}, {trunc_ln168_fu_2305_p1}};

assign or_ln6_fu_2375_p3 = {{3'd5}, {empty_reg_239}};

assign or_ln7_fu_2713_p3 = {{1'd1}, {empty_reg_239}};

assign or_ln80_fu_2299_p2 = (xor_ln80_fu_2293_p2 | ap_phi_mux_Q_started_loc_0_phi_fu_165_p4);

assign or_ln8_fu_2329_p3 = {{1'd1}, {empty_reg_239}};

assign or_ln91_fu_2279_p2 = (xor_ln91_fu_2273_p2 | ap_phi_mux_K_started_loc_0_phi_fu_176_p4);

assign or_ln9_fu_2577_p3 = {{1'd1}, {empty_reg_239}};

assign or_ln_fu_2651_p4 = {{{grp_fu_2011_p4}, {8'd4}}, {trunc_ln102_fu_2647_p1}};

assign sext_ln110_fu_2585_p1 = $signed(or_ln9_fu_2577_p3);

assign sext_ln150_fu_2383_p1 = $signed(or_ln6_fu_2375_p3);

assign sext_ln160_fu_2337_p1 = $signed(or_ln8_fu_2329_p3);

assign sext_ln82_fu_2721_p1 = $signed(or_ln7_fu_2713_p3);

assign shl_ln102_fu_2665_p2 = zext_ln102_fu_2661_p1 << zext_ln42_1_reg_2849;

assign shl_ln105_fu_2641_p2 = zext_ln105_fu_2637_p1 << zext_ln42_1_reg_2849;

assign shl_ln110_fu_2593_p2 = zext_ln110_fu_2589_p1 << zext_ln42_1_reg_2849;

assign shl_ln114_fu_2617_p2 = zext_ln114_fu_2613_p1 << zext_ln42_1_reg_2849;

assign shl_ln119_fu_2571_p2 = zext_ln119_fu_2567_p1 << zext_ln42_1_reg_2849;

assign shl_ln11_fu_2117_p2 = zext_ln6_fu_2110_p1 << zext_ln42_1_reg_2849;

assign shl_ln122_fu_2547_p2 = zext_ln122_fu_2543_p1 << zext_ln42_1_reg_2849;

assign shl_ln125_fu_2523_p2 = zext_ln125_fu_2519_p1 << zext_ln42_1_reg_2849;

assign shl_ln130_fu_2475_p2 = zext_ln130_fu_2471_p1 << zext_ln42_1_reg_2849;

assign shl_ln133_fu_2499_p2 = zext_ln133_fu_2495_p1 << zext_ln42_1_reg_2849;

assign shl_ln140_fu_2433_p2 = zext_ln140_fu_2429_p1 << zext_ln42_1_reg_2849;

assign shl_ln143_fu_2457_p2 = zext_ln143_fu_2453_p1 << zext_ln42_1_reg_2849;

assign shl_ln150_fu_2391_p2 = zext_ln150_fu_2387_p1 << zext_ln42_1_reg_2849;

assign shl_ln153_fu_2415_p2 = zext_ln153_fu_2411_p1 << zext_ln42_1_reg_2849;

assign shl_ln160_fu_2345_p2 = zext_ln160_fu_2341_p1 << zext_ln42_1_reg_2849;

assign shl_ln163_fu_2369_p2 = zext_ln163_fu_2365_p1 << zext_ln42_1_reg_2849;

assign shl_ln168_fu_2323_p2 = zext_ln168_fu_2319_p1 << zext_ln42_1_reg_2849;

assign shl_ln43_fu_2065_p2 = zext_ln43_fu_2061_p1 << zext_ln42_1_fu_2047_p1;

assign shl_ln76_fu_2775_p2 = zext_ln76_fu_2771_p1 << zext_ln42_1_reg_2849;

assign shl_ln82_fu_2729_p2 = zext_ln82_fu_2725_p1 << zext_ln42_1_reg_2849;

assign shl_ln86_fu_2753_p2 = zext_ln86_fu_2749_p1 << zext_ln42_1_reg_2849;

assign shl_ln93_fu_2683_p2 = zext_ln93_fu_2679_p1 << zext_ln42_1_reg_2849;

assign shl_ln97_fu_2707_p2 = zext_ln97_fu_2703_p1 << zext_ln42_1_reg_2849;

assign shl_ln_fu_2040_p3 = {{trunc_ln42_reg_2834}, {3'd0}};

assign start_read_read_fu_124_p2 = start_r;

assign tmp_10_fu_2185_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_12_fu_2165_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_2_fu_2265_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_4_fu_2245_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_6_fu_2225_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_8_fu_2205_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign tmp_fu_2285_p3 = ap_phi_mux_empty_phi_fu_242_p4[32'd40];

assign trunc_ln102_fu_2647_p1 = empty_reg_239[31:0];

assign trunc_ln105_fu_2623_p1 = empty_reg_239[31:0];

assign trunc_ln114_fu_2599_p1 = empty_reg_239[31:0];

assign trunc_ln119_fu_2553_p1 = empty_reg_239[31:0];

assign trunc_ln122_fu_2529_p1 = empty_reg_239[31:0];

assign trunc_ln125_fu_2505_p1 = empty_reg_239[31:0];

assign trunc_ln133_fu_2481_p1 = empty_reg_239[31:0];

assign trunc_ln143_fu_2439_p1 = empty_reg_239[31:0];

assign trunc_ln153_fu_2397_p1 = empty_reg_239[31:0];

assign trunc_ln163_fu_2351_p1 = empty_reg_239[31:0];

assign trunc_ln168_fu_2305_p1 = empty_reg_239[31:0];

assign trunc_ln1_fu_2123_p4 = {{ap_phi_mux_empty_phi_fu_242_p4[39:32]}};

assign trunc_ln42_1_fu_2057_p1 = lshr_ln42_fu_2051_p2[41:0];

assign trunc_ln42_fu_2036_p1 = ctx[2:0];

assign trunc_ln46_fu_2072_p1 = lshr_ln42_fu_2051_p2[31:0];

assign trunc_ln76_fu_2759_p1 = empty_reg_239[31:0];

assign trunc_ln86_fu_2735_p1 = empty_reg_239[31:0];

assign trunc_ln97_fu_2689_p1 = empty_reg_239[31:0];

assign xor_ln108_fu_2253_p2 = (tmp_4_fu_2245_p3 ^ 1'd1);

assign xor_ln128_fu_2233_p2 = (tmp_6_fu_2225_p3 ^ 1'd1);

assign xor_ln138_fu_2213_p2 = (tmp_8_fu_2205_p3 ^ 1'd1);

assign xor_ln148_fu_2193_p2 = (tmp_10_fu_2185_p3 ^ 1'd1);

assign xor_ln158_fu_2173_p2 = (tmp_12_fu_2165_p3 ^ 1'd1);

assign xor_ln80_fu_2293_p2 = (tmp_fu_2285_p3 ^ 1'd1);

assign xor_ln91_fu_2273_p2 = (tmp_2_fu_2265_p3 ^ 1'd1);

assign zext_ln102_fu_2661_p1 = or_ln_fu_2651_p4;

assign zext_ln105_fu_2637_p1 = or_ln1_fu_2627_p4;

assign zext_ln110_fu_2589_p1 = $unsigned(sext_ln110_fu_2585_p1);

assign zext_ln114_fu_2613_p1 = or_ln12_fu_2603_p4;

assign zext_ln119_fu_2567_p1 = or_ln2_fu_2557_p4;

assign zext_ln11_fu_2113_p1 = layer_idx;

assign zext_ln122_fu_2543_p1 = or_ln3_fu_2533_p4;

assign zext_ln125_fu_2519_p1 = or_ln4_fu_2509_p4;

assign zext_ln130_cast_fu_2463_p3 = {{4'd9}, {empty_reg_239}};

assign zext_ln130_fu_2471_p1 = zext_ln130_cast_fu_2463_p3;

assign zext_ln133_fu_2495_p1 = or_ln13_fu_2485_p4;

assign zext_ln140_cast_fu_2421_p3 = {{4'd11}, {empty_reg_239}};

assign zext_ln140_fu_2429_p1 = zext_ln140_cast_fu_2421_p3;

assign zext_ln143_fu_2453_p1 = or_ln14_fu_2443_p4;

assign zext_ln150_fu_2387_p1 = $unsigned(sext_ln150_fu_2383_p1);

assign zext_ln153_fu_2411_p1 = or_ln15_fu_2401_p4;

assign zext_ln160_fu_2341_p1 = $unsigned(sext_ln160_fu_2337_p1);

assign zext_ln163_fu_2365_p1 = or_ln16_fu_2355_p4;

assign zext_ln168_fu_2319_p1 = or_ln5_fu_2309_p4;

assign zext_ln42_1_fu_2047_p1 = shl_ln_fu_2040_p3;

assign zext_ln42_fu_2031_p1 = lshr_ln42_1_fu_2021_p4;

assign zext_ln43_fu_2061_p1 = trunc_ln42_1_fu_2057_p1;

assign zext_ln6_fu_2110_p1 = layer_idx;

assign zext_ln76_cast_fu_2763_p3 = {{1'd1}, {trunc_ln76_fu_2759_p1}};

assign zext_ln76_fu_2771_p1 = zext_ln76_cast_fu_2763_p3;

assign zext_ln82_fu_2725_p1 = $unsigned(sext_ln82_fu_2721_p1);

assign zext_ln86_fu_2749_p1 = or_ln10_fu_2739_p4;

assign zext_ln93_cast_fu_2671_p3 = {{3'd5}, {empty_reg_239}};

assign zext_ln93_fu_2679_p1 = zext_ln93_cast_fu_2671_p3;

assign zext_ln97_fu_2703_p1 = or_ln11_fu_2693_p4;

always @ (posedge ap_clk) begin
    zext_ln42_1_reg_2849[2:0] <= 3'b000;
    zext_ln42_1_reg_2849[50:6] <= 45'b000000000000000000000000000000000000000000000;
end

endmodule //drive_group_head_phase_run_single_head
