-- ==============================================================
-- Generated by Vitis HLS v2025.1
-- Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
-- Copyright 2022-2025 Advanced Micro Devices, Inc. All Rights Reserved.
-- ==============================================================

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity drive_group_head_phase_run_single_head is
port (
    ap_clk : IN STD_LOGIC;
    ap_rst : IN STD_LOGIC;
    ap_start : IN STD_LOGIC;
    ap_done : OUT STD_LOGIC;
    ap_idle : OUT STD_LOGIC;
    ap_ready : OUT STD_LOGIC;
    head_ctx_ref_address0 : OUT STD_LOGIC_VECTOR (1 downto 0);
    head_ctx_ref_ce0 : OUT STD_LOGIC;
    head_ctx_ref_we0 : OUT STD_LOGIC;
    head_ctx_ref_d0 : OUT STD_LOGIC_VECTOR (50 downto 0);
    head_ctx_ref_q0 : IN STD_LOGIC_VECTOR (50 downto 0);
    ctx : IN STD_LOGIC_VECTOR (4 downto 0);
    layer_idx : IN STD_LOGIC_VECTOR (31 downto 0);
    start_r : IN STD_LOGIC_VECTOR (0 downto 0);
    ap_return : OUT STD_LOGIC_VECTOR (0 downto 0) );
end;


architecture behav of drive_group_head_phase_run_single_head is 
    constant ap_const_logic_1 : STD_LOGIC := '1';
    constant ap_const_logic_0 : STD_LOGIC := '0';
    constant ap_ST_fsm_state1 : STD_LOGIC_VECTOR (3 downto 0) := "0001";
    constant ap_ST_fsm_state2 : STD_LOGIC_VECTOR (3 downto 0) := "0010";
    constant ap_ST_fsm_state3 : STD_LOGIC_VECTOR (3 downto 0) := "0100";
    constant ap_ST_fsm_state4 : STD_LOGIC_VECTOR (3 downto 0) := "1000";
    constant ap_const_boolean_1 : BOOLEAN := true;
    constant ap_const_lv32_0 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000000";
    constant ap_const_lv1_0 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    constant ap_const_lv32_1 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000001";
    constant ap_const_lv32_2 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000010";
    constant ap_const_lv1_1 : STD_LOGIC_VECTOR (0 downto 0) := "1";
    constant ap_const_lv8_0 : STD_LOGIC_VECTOR (7 downto 0) := "00000000";
    constant ap_const_lv8_1 : STD_LOGIC_VECTOR (7 downto 0) := "00000001";
    constant ap_const_lv8_2 : STD_LOGIC_VECTOR (7 downto 0) := "00000010";
    constant ap_const_lv8_3 : STD_LOGIC_VECTOR (7 downto 0) := "00000011";
    constant ap_const_lv8_4 : STD_LOGIC_VECTOR (7 downto 0) := "00000100";
    constant ap_const_lv8_5 : STD_LOGIC_VECTOR (7 downto 0) := "00000101";
    constant ap_const_lv8_6 : STD_LOGIC_VECTOR (7 downto 0) := "00000110";
    constant ap_const_lv8_7 : STD_LOGIC_VECTOR (7 downto 0) := "00000111";
    constant ap_const_lv8_8 : STD_LOGIC_VECTOR (7 downto 0) := "00001000";
    constant ap_const_lv8_9 : STD_LOGIC_VECTOR (7 downto 0) := "00001001";
    constant ap_const_lv8_A : STD_LOGIC_VECTOR (7 downto 0) := "00001010";
    constant ap_const_lv8_B : STD_LOGIC_VECTOR (7 downto 0) := "00001011";
    constant ap_const_lv8_C : STD_LOGIC_VECTOR (7 downto 0) := "00001100";
    constant ap_const_lv8_D : STD_LOGIC_VECTOR (7 downto 0) := "00001101";
    constant ap_const_lv32_3 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000011";
    constant ap_const_lv8_E : STD_LOGIC_VECTOR (7 downto 0) := "00001110";
    constant ap_const_lv32_29 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000101001";
    constant ap_const_lv32_28 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000101000";
    constant ap_const_lv32_4 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000100";
    constant ap_const_lv3_0 : STD_LOGIC_VECTOR (2 downto 0) := "000";
    constant ap_const_lv32_20 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000100000";
    constant ap_const_lv32_27 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000100111";
    constant ap_const_lv3_5 : STD_LOGIC_VECTOR (2 downto 0) := "101";
    constant ap_const_lv4_B : STD_LOGIC_VECTOR (3 downto 0) := "1011";
    constant ap_const_lv4_9 : STD_LOGIC_VECTOR (3 downto 0) := "1001";

attribute shreg_extract : string;
    signal ap_CS_fsm : STD_LOGIC_VECTOR (3 downto 0) := "0001";
    attribute fsm_encoding : string;
    attribute fsm_encoding of ap_CS_fsm : signal is "none";
    signal ap_CS_fsm_state1 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state1 : signal is "none";
    signal Q_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal K_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal V_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal att_scores_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal val_scale_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal softmax_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal att_value_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal head_ctx_ref_addr_reg_2829 : STD_LOGIC_VECTOR (1 downto 0);
    signal trunc_ln42_fu_2036_p1 : STD_LOGIC_VECTOR (2 downto 0);
    signal trunc_ln42_reg_2834 : STD_LOGIC_VECTOR (2 downto 0);
    signal start_read_read_fu_124_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_CS_fsm_state2 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state2 : signal is "none";
    signal zext_ln42_1_fu_2047_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal zext_ln42_1_reg_2849 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln42_1_fu_2057_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal icmp_ln46_fu_2076_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln46_reg_2880 : STD_LOGIC_VECTOR (0 downto 0);
    signal trunc_ln1_fu_2123_p4 : STD_LOGIC_VECTOR (7 downto 0);
    signal trunc_ln1_reg_2919 : STD_LOGIC_VECTOR (7 downto 0);
    signal ap_CS_fsm_state3 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state3 : signal is "none";
    signal or_ln158_fu_2179_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln158_reg_2924 : STD_LOGIC_VECTOR (0 downto 0);
    signal grp_fu_2003_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_25_reg_2928 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln148_fu_2199_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln148_reg_2932 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_23_reg_2936 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln138_fu_2219_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln138_reg_2940 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_21_reg_2944 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln128_fu_2239_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln128_reg_2948 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_19_reg_2952 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln108_fu_2259_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln108_reg_2956 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_17_reg_2960 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln91_fu_2279_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln91_reg_2964 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_15_reg_2968 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln80_fu_2299_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln80_reg_2972 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_13_reg_2976 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_Q_started_flag_0_phi_fu_153_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_flag_0_reg_149 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_loc_0_reg_162 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_loc_0_phi_fu_176_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_loc_0_reg_173 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_loc_0_phi_fu_187_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_loc_0_reg_184 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_loc_0_reg_195 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_loc_0_reg_206 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_loc_0_reg_217 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_loc_0_reg_228 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_empty_phi_fu_242_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal empty_reg_239 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln11_fu_2113_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_flag_1_reg_249 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_CS_fsm_state4 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state4 : signal is "none";
    signal ap_phi_mux_Q_started_new_1_phi_fu_369_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_new_1_reg_365 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_flag_1_phi_fu_485_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_flag_1_reg_482 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_new_1_phi_fu_602_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_new_1_reg_598 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_flag_1_phi_fu_718_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_flag_1_reg_715 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_new_1_phi_fu_835_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_new_1_reg_831 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_flag_1_reg_948 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_new_1_reg_1064 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_flag_1_reg_1181 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_new_1_reg_1297 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_flag_1_reg_1414 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_new_1_reg_1530 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_flag_1_reg_1647 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_new_1_reg_1763 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_empty_13_phi_fu_1891_p74 : STD_LOGIC_VECTOR (7 downto 0);
    signal empty_13_reg_1880 : STD_LOGIC_VECTOR (7 downto 0);
    signal zext_ln42_fu_2031_p1 : STD_LOGIC_VECTOR (63 downto 0);
    signal head_ctx_ref_ce0_local : STD_LOGIC;
    signal head_ctx_ref_address0_local : STD_LOGIC_VECTOR (1 downto 0);
    signal head_ctx_ref_we0_local : STD_LOGIC;
    signal head_ctx_ref_d0_local : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln43_fu_2065_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln11_fu_2117_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln168_fu_2323_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln160_fu_2345_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln163_fu_2369_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln150_fu_2391_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln153_fu_2415_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln140_fu_2433_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln143_fu_2457_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln130_fu_2475_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln133_fu_2499_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln125_fu_2523_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln122_fu_2547_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln119_fu_2571_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln110_fu_2593_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln114_fu_2617_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln105_fu_2641_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln102_fu_2665_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln93_fu_2683_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln97_fu_2707_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln82_fu_2729_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln86_fu_2753_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal shl_ln76_fu_2775_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal lshr_ln42_1_fu_2021_p4 : STD_LOGIC_VECTOR (1 downto 0);
    signal shl_ln_fu_2040_p3 : STD_LOGIC_VECTOR (5 downto 0);
    signal lshr_ln42_fu_2051_p2 : STD_LOGIC_VECTOR (50 downto 0);
    signal zext_ln43_fu_2061_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln46_fu_2072_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal zext_ln6_fu_2110_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal tmp_12_fu_2165_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln158_fu_2173_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_10_fu_2185_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln148_fu_2193_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_8_fu_2205_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln138_fu_2213_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_6_fu_2225_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln128_fu_2233_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_4_fu_2245_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln108_fu_2253_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_2_fu_2265_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln91_fu_2273_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_fu_2285_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln80_fu_2293_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal grp_fu_2011_p4 : STD_LOGIC_VECTOR (1 downto 0);
    signal trunc_ln168_fu_2305_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln5_fu_2309_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln168_fu_2319_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal or_ln8_fu_2329_p3 : STD_LOGIC_VECTOR (42 downto 0);
    signal sext_ln160_fu_2337_p1 : STD_LOGIC_VECTOR (45 downto 0);
    signal zext_ln160_fu_2341_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln163_fu_2351_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln16_fu_2355_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln163_fu_2365_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal or_ln6_fu_2375_p3 : STD_LOGIC_VECTOR (44 downto 0);
    signal sext_ln150_fu_2383_p1 : STD_LOGIC_VECTOR (45 downto 0);
    signal zext_ln150_fu_2387_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln153_fu_2397_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln15_fu_2401_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln153_fu_2411_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal zext_ln140_cast_fu_2421_p3 : STD_LOGIC_VECTOR (45 downto 0);
    signal zext_ln140_fu_2429_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln143_fu_2439_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln14_fu_2443_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln143_fu_2453_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal zext_ln130_cast_fu_2463_p3 : STD_LOGIC_VECTOR (45 downto 0);
    signal zext_ln130_fu_2471_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln133_fu_2481_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln13_fu_2485_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln133_fu_2495_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln125_fu_2505_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln4_fu_2509_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln125_fu_2519_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln122_fu_2529_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln3_fu_2533_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln122_fu_2543_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln119_fu_2553_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln2_fu_2557_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln119_fu_2567_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal or_ln9_fu_2577_p3 : STD_LOGIC_VECTOR (42 downto 0);
    signal sext_ln110_fu_2585_p1 : STD_LOGIC_VECTOR (44 downto 0);
    signal zext_ln110_fu_2589_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln114_fu_2599_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln12_fu_2603_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln114_fu_2613_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln105_fu_2623_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln1_fu_2627_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln105_fu_2637_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln102_fu_2647_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln_fu_2651_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln102_fu_2661_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal zext_ln93_cast_fu_2671_p3 : STD_LOGIC_VECTOR (44 downto 0);
    signal zext_ln93_fu_2679_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln97_fu_2689_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln11_fu_2693_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln97_fu_2703_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal or_ln7_fu_2713_p3 : STD_LOGIC_VECTOR (42 downto 0);
    signal sext_ln82_fu_2721_p1 : STD_LOGIC_VECTOR (43 downto 0);
    signal zext_ln82_fu_2725_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln86_fu_2735_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln10_fu_2739_p4 : STD_LOGIC_VECTOR (41 downto 0);
    signal zext_ln86_fu_2749_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal trunc_ln76_fu_2759_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal zext_ln76_cast_fu_2763_p3 : STD_LOGIC_VECTOR (32 downto 0);
    signal zext_ln76_fu_2771_p1 : STD_LOGIC_VECTOR (50 downto 0);
    signal finished_fu_2781_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_return_preg : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal ap_NS_fsm : STD_LOGIC_VECTOR (3 downto 0);
    signal ap_ST_fsm_state1_blk : STD_LOGIC;
    signal ap_ST_fsm_state2_blk : STD_LOGIC;
    signal ap_ST_fsm_state3_blk : STD_LOGIC;
    signal ap_ST_fsm_state4_blk : STD_LOGIC;
    signal ap_ce_reg : STD_LOGIC;


begin




    K_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                K_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_K_started_flag_1_phi_fu_485_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    K_started <= ap_phi_mux_K_started_new_1_phi_fu_602_p74;
                end if; 
            end if;
        end if;
    end process;


    Q_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                Q_started <= ap_const_lv1_0;
            else
                if (((ap_const_logic_1 = ap_CS_fsm_state4) and (ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 = ap_const_lv1_1))) then 
                    Q_started <= ap_phi_mux_Q_started_new_1_phi_fu_369_p74;
                end if; 
            end if;
        end if;
    end process;


    V_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                V_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_V_started_flag_1_phi_fu_718_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    V_started <= ap_phi_mux_V_started_new_1_phi_fu_835_p74;
                end if; 
            end if;
        end if;
    end process;


    ap_CS_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_fsm <= ap_ST_fsm_state1;
            else
                ap_CS_fsm <= ap_NS_fsm;
            end if;
        end if;
    end process;


    ap_return_preg_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_return_preg <= ap_const_lv1_0;
            else
                if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
                    ap_return_preg <= finished_fu_2781_p2;
                end if; 
            end if;
        end if;
    end process;


    att_scores_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                att_scores_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    att_scores_started <= ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74;
                end if; 
            end if;
        end if;
    end process;


    att_value_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                att_value_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    att_value_started <= ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74;
                end if; 
            end if;
        end if;
    end process;


    softmax_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                softmax_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    softmax_started <= ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74;
                end if; 
            end if;
        end if;
    end process;


    val_scale_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                val_scale_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    val_scale_started <= ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74;
                end if; 
            end if;
        end if;
    end process;


    K_started_flag_1_reg_482_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)))) then 
                K_started_flag_1_reg_482 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                K_started_flag_1_reg_482 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                K_started_flag_1_reg_482 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    K_started_loc_0_reg_173_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                K_started_loc_0_reg_173 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                K_started_loc_0_reg_173 <= K_started;
            end if; 
        end if;
    end process;

    K_started_new_1_reg_598_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
                K_started_new_1_reg_598 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 
    = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 
    = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                K_started_new_1_reg_598 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    Q_started_flag_0_reg_149_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                Q_started_flag_0_reg_149 <= ap_const_lv1_1;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                Q_started_flag_0_reg_149 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    Q_started_flag_1_reg_249_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)))) then 
                Q_started_flag_1_reg_249 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                Q_started_flag_1_reg_249 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                Q_started_flag_1_reg_249 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    Q_started_loc_0_reg_162_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                Q_started_loc_0_reg_162 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                Q_started_loc_0_reg_162 <= Q_started;
            end if; 
        end if;
    end process;

    Q_started_new_1_reg_365_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
                Q_started_new_1_reg_365 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 
    = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 
    = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                Q_started_new_1_reg_365 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    V_started_flag_1_reg_715_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)))) then 
                V_started_flag_1_reg_715 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                V_started_flag_1_reg_715 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                V_started_flag_1_reg_715 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    V_started_loc_0_reg_184_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                V_started_loc_0_reg_184 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                V_started_loc_0_reg_184 <= V_started;
            end if; 
        end if;
    end process;

    V_started_new_1_reg_831_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                V_started_new_1_reg_831 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 
    = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 
    = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                V_started_new_1_reg_831 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    att_scores_started_flag_1_reg_948_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)))) then 
                att_scores_started_flag_1_reg_948 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                att_scores_started_flag_1_reg_948 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_scores_started_flag_1_reg_948 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    att_scores_started_loc_0_reg_195_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                att_scores_started_loc_0_reg_195 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                att_scores_started_loc_0_reg_195 <= att_scores_started;
            end if; 
        end if;
    end process;

    att_scores_started_new_1_reg_1064_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                att_scores_started_new_1_reg_1064 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 
    = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 
    = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_scores_started_new_1_reg_1064 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    att_value_started_flag_1_reg_1647_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)))) then 
                att_value_started_flag_1_reg_1647 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                att_value_started_flag_1_reg_1647 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_value_started_flag_1_reg_1647 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    att_value_started_loc_0_reg_228_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                att_value_started_loc_0_reg_228 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                att_value_started_loc_0_reg_228 <= att_value_started;
            end if; 
        end if;
    end process;

    att_value_started_new_1_reg_1763_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                att_value_started_new_1_reg_1763 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) 
    and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) 
    and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) 
    and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_value_started_new_1_reg_1763 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    empty_13_reg_1880_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                empty_13_reg_1880 <= ap_const_lv8_0;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)))) then 
                empty_13_reg_1880 <= ap_const_lv8_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)))) then 
                empty_13_reg_1880 <= ap_const_lv8_2;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
                empty_13_reg_1880 <= ap_const_lv8_3;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1880 <= ap_const_lv8_4;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1880 <= ap_const_lv8_5;
            elsif (((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184))) then 
                empty_13_reg_1880 <= ap_const_lv8_6;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1880 <= ap_const_lv8_7;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1880 <= ap_const_lv8_8;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1880 <= ap_const_lv8_9;
            elsif ((((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1880 <= ap_const_lv8_A;
            elsif ((((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1880 <= ap_const_lv8_B;
            elsif ((((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1880 <= ap_const_lv8_C;
            elsif (((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1))) then 
                empty_13_reg_1880 <= ap_const_lv8_D;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1880 <= ap_const_lv8_E;
            elsif ((not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                empty_13_reg_1880 <= ap_phi_mux_empty_phi_fu_242_p4(39 downto 32);
            end if; 
        end if;
    end process;

    empty_reg_239_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                empty_reg_239 <= zext_ln11_fu_2113_p1;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                empty_reg_239 <= trunc_ln42_1_fu_2057_p1;
            end if; 
        end if;
    end process;

    softmax_started_flag_1_reg_1414_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)))) then 
                softmax_started_flag_1_reg_1414 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                softmax_started_flag_1_reg_1414 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                softmax_started_flag_1_reg_1414 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    softmax_started_loc_0_reg_217_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                softmax_started_loc_0_reg_217 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                softmax_started_loc_0_reg_217 <= softmax_started;
            end if; 
        end if;
    end process;

    softmax_started_new_1_reg_1530_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                softmax_started_new_1_reg_1530 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) 
    and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 
    = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) 
    and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                softmax_started_new_1_reg_1530 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    val_scale_started_flag_1_reg_1181_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)))) then 
                val_scale_started_flag_1_reg_1181 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                val_scale_started_flag_1_reg_1181 <= Q_started_flag_0_reg_149;
            elsif ((((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                val_scale_started_flag_1_reg_1181 <= ap_phi_mux_Q_started_flag_0_phi_fu_153_p4;
            end if; 
        end if;
    end process;

    val_scale_started_loc_0_reg_206_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                val_scale_started_loc_0_reg_206 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2076_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                val_scale_started_loc_0_reg_206 <= val_scale_started;
            end if; 
        end if;
    end process;

    val_scale_started_new_1_reg_1297_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                val_scale_started_new_1_reg_1297 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2259_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_187_p4 = ap_const_lv1_0)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2239_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 = ap_const_lv1_0)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2219_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 
    = ap_const_lv1_0)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2199_p2 = ap_const_lv1_1) and (grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 = ap_const_lv1_0)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2279_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (or_ln158_fu_2179_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 = ap_const_lv1_0)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_176_p4 = ap_const_lv1_0) and (or_ln91_fu_2279_p2 
    = ap_const_lv1_1)) or ((grp_fu_2003_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2123_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 = ap_const_lv1_0) and (or_ln80_fu_2299_p2 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2123_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2123_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2123_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2123_p4 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                val_scale_started_new_1_reg_1297 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state1)) then
                head_ctx_ref_addr_reg_2829 <= zext_ln42_fu_2031_p1(2 - 1 downto 0);
                trunc_ln42_reg_2834 <= trunc_ln42_fu_2036_p1;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state2)) then
                icmp_ln46_reg_2880 <= icmp_ln46_fu_2076_p2;
                    zext_ln42_1_reg_2849(5 downto 3) <= zext_ln42_1_fu_2047_p1(5 downto 3);
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state3)) then
                or_ln108_reg_2956 <= or_ln108_fu_2259_p2;
                or_ln128_reg_2948 <= or_ln128_fu_2239_p2;
                or_ln138_reg_2940 <= or_ln138_fu_2219_p2;
                or_ln148_reg_2932 <= or_ln148_fu_2199_p2;
                or_ln158_reg_2924 <= or_ln158_fu_2179_p2;
                or_ln80_reg_2972 <= or_ln80_fu_2299_p2;
                or_ln91_reg_2964 <= or_ln91_fu_2279_p2;
                tmp_13_reg_2976 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_15_reg_2968 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_17_reg_2960 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_19_reg_2952 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_21_reg_2944 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_23_reg_2936 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                tmp_25_reg_2928 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
                trunc_ln1_reg_2919 <= ap_phi_mux_empty_phi_fu_242_p4(39 downto 32);
            end if;
        end if;
    end process;
    zext_ln42_1_reg_2849(2 downto 0) <= "000";
    zext_ln42_1_reg_2849(50 downto 6) <= "000000000000000000000000000000000000000000000";

    ap_NS_fsm_assign_proc : process (ap_start, ap_CS_fsm, ap_CS_fsm_state1)
    begin
        case ap_CS_fsm is
            when ap_ST_fsm_state1 => 
                if (((ap_start = ap_const_logic_1) and (ap_const_logic_1 = ap_CS_fsm_state1))) then
                    ap_NS_fsm <= ap_ST_fsm_state2;
                else
                    ap_NS_fsm <= ap_ST_fsm_state1;
                end if;
            when ap_ST_fsm_state2 => 
                ap_NS_fsm <= ap_ST_fsm_state3;
            when ap_ST_fsm_state3 => 
                ap_NS_fsm <= ap_ST_fsm_state4;
            when ap_ST_fsm_state4 => 
                ap_NS_fsm <= ap_ST_fsm_state1;
            when others =>  
                ap_NS_fsm <= "XXXX";
        end case;
    end process;
    ap_CS_fsm_state1 <= ap_CS_fsm(0);
    ap_CS_fsm_state2 <= ap_CS_fsm(1);
    ap_CS_fsm_state3 <= ap_CS_fsm(2);
    ap_CS_fsm_state4 <= ap_CS_fsm(3);

    ap_ST_fsm_state1_blk_assign_proc : process(ap_start)
    begin
        if ((ap_start = ap_const_logic_0)) then 
            ap_ST_fsm_state1_blk <= ap_const_logic_1;
        else 
            ap_ST_fsm_state1_blk <= ap_const_logic_0;
        end if; 
    end process;

    ap_ST_fsm_state2_blk <= ap_const_logic_0;
    ap_ST_fsm_state3_blk <= ap_const_logic_0;
    ap_ST_fsm_state4_blk <= ap_const_logic_0;

    ap_done_assign_proc : process(ap_start, ap_CS_fsm_state1, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state4) or ((ap_start = ap_const_logic_0) and (ap_const_logic_1 = ap_CS_fsm_state1)))) then 
            ap_done <= ap_const_logic_1;
        else 
            ap_done <= ap_const_logic_0;
        end if; 
    end process;


    ap_idle_assign_proc : process(ap_start, ap_CS_fsm_state1)
    begin
        if (((ap_start = ap_const_logic_0) and (ap_const_logic_1 = ap_CS_fsm_state1))) then 
            ap_idle <= ap_const_logic_1;
        else 
            ap_idle <= ap_const_logic_0;
        end if; 
    end process;


    ap_phi_mux_K_started_flag_1_phi_fu_485_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, K_started_flag_1_reg_482)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)))) then 
            ap_phi_mux_K_started_flag_1_phi_fu_485_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_K_started_flag_1_phi_fu_485_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_K_started_flag_1_phi_fu_485_p74 <= K_started_flag_1_reg_482;
        end if; 
    end process;


    ap_phi_mux_K_started_loc_0_phi_fu_176_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, K_started_loc_0_reg_173)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_K_started_loc_0_phi_fu_176_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_K_started_loc_0_phi_fu_176_p4 <= K_started_loc_0_reg_173;
        end if; 
    end process;


    ap_phi_mux_K_started_new_1_phi_fu_602_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, K_started_new_1_reg_598)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
            ap_phi_mux_K_started_new_1_phi_fu_602_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_K_started_new_1_phi_fu_602_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_K_started_new_1_phi_fu_602_p74 <= K_started_new_1_reg_598;
        end if; 
    end process;


    ap_phi_mux_Q_started_flag_0_phi_fu_153_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, Q_started_flag_0_reg_149)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_Q_started_flag_0_phi_fu_153_p4 <= ap_const_lv1_1;
        else 
            ap_phi_mux_Q_started_flag_0_phi_fu_153_p4 <= Q_started_flag_0_reg_149;
        end if; 
    end process;


    ap_phi_mux_Q_started_flag_1_phi_fu_252_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, Q_started_flag_1_reg_249, ap_CS_fsm_state4)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)))) then 
            ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_Q_started_flag_1_phi_fu_252_p74 <= Q_started_flag_1_reg_249;
        end if; 
    end process;


    ap_phi_mux_Q_started_loc_0_phi_fu_165_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, Q_started_loc_0_reg_162)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_Q_started_loc_0_phi_fu_165_p4 <= Q_started_loc_0_reg_162;
        end if; 
    end process;


    ap_phi_mux_Q_started_new_1_phi_fu_369_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, Q_started_new_1_reg_365)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
            ap_phi_mux_Q_started_new_1_phi_fu_369_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_Q_started_new_1_phi_fu_369_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_Q_started_new_1_phi_fu_369_p74 <= Q_started_new_1_reg_365;
        end if; 
    end process;


    ap_phi_mux_V_started_flag_1_phi_fu_718_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, V_started_flag_1_reg_715)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)))) then 
            ap_phi_mux_V_started_flag_1_phi_fu_718_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_V_started_flag_1_phi_fu_718_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_V_started_flag_1_phi_fu_718_p74 <= V_started_flag_1_reg_715;
        end if; 
    end process;


    ap_phi_mux_V_started_loc_0_phi_fu_187_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, V_started_loc_0_reg_184)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_V_started_loc_0_phi_fu_187_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_V_started_loc_0_phi_fu_187_p4 <= V_started_loc_0_reg_184;
        end if; 
    end process;


    ap_phi_mux_V_started_new_1_phi_fu_835_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, V_started_new_1_reg_831)
    begin
        if (((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_V_started_new_1_phi_fu_835_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_V_started_new_1_phi_fu_835_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_V_started_new_1_phi_fu_835_p74 <= V_started_new_1_reg_831;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, att_scores_started_flag_1_reg_948)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)))) then 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_951_p74 <= att_scores_started_flag_1_reg_948;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, att_scores_started_loc_0_reg_195)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4 <= att_scores_started_loc_0_reg_195;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, att_scores_started_new_1_reg_1064)
    begin
        if (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1068_p74 <= att_scores_started_new_1_reg_1064;
        end if; 
    end process;


    ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, att_value_started_flag_1_reg_1647)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)))) then 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1650_p74 <= att_value_started_flag_1_reg_1647;
        end if; 
    end process;


    ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, att_value_started_loc_0_reg_228)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4 <= att_value_started_loc_0_reg_228;
        end if; 
    end process;


    ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, att_value_started_new_1_reg_1763)
    begin
        if (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) 
    and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_value_started_new_1_phi_fu_1767_p74 <= att_value_started_new_1_reg_1763;
        end if; 
    end process;


    ap_phi_mux_empty_13_phi_fu_1891_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, empty_13_reg_1880)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_3;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_4;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_5;
        elsif (((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_6;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_7;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_8;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_9;
        elsif ((((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_A;
        elsif ((((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_B;
        elsif ((((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_C;
        elsif (((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_D;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= ap_const_lv8_E;
        else 
            ap_phi_mux_empty_13_phi_fu_1891_p74 <= empty_13_reg_1880;
        end if; 
    end process;


    ap_phi_mux_empty_phi_fu_242_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, empty_reg_239, zext_ln11_fu_2113_p1)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_empty_phi_fu_242_p4 <= zext_ln11_fu_2113_p1;
        else 
            ap_phi_mux_empty_phi_fu_242_p4 <= empty_reg_239;
        end if; 
    end process;


    ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, softmax_started_flag_1_reg_1414)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)))) then 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1417_p74 <= softmax_started_flag_1_reg_1414;
        end if; 
    end process;


    ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, softmax_started_loc_0_reg_217)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4 <= softmax_started_loc_0_reg_217;
        end if; 
    end process;


    ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, softmax_started_new_1_reg_1530)
    begin
        if (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) 
    and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_softmax_started_new_1_phi_fu_1534_p74 <= softmax_started_new_1_reg_1530;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_flag_0_reg_149, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, val_scale_started_flag_1_reg_1181)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)))) then 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 
    = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 <= Q_started_flag_0_reg_149;
        else 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1184_p74 <= val_scale_started_flag_1_reg_1181;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, val_scale_started_loc_0_reg_206)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4 <= val_scale_started_loc_0_reg_206;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74_assign_proc : process(start_read_read_fu_124_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, val_scale_started_new_1_reg_1297)
    begin
        if (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1301_p74 <= val_scale_started_new_1_reg_1297;
        end if; 
    end process;


    ap_ready_assign_proc : process(ap_CS_fsm_state4)
    begin
        if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
            ap_ready <= ap_const_logic_1;
        else 
            ap_ready <= ap_const_logic_0;
        end if; 
    end process;


    ap_return_assign_proc : process(ap_CS_fsm_state4, finished_fu_2781_p2, ap_return_preg)
    begin
        if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
            ap_return <= finished_fu_2781_p2;
        else 
            ap_return <= ap_return_preg;
        end if; 
    end process;

    finished_fu_2781_p2 <= "1" when (ap_phi_mux_empty_13_phi_fu_1891_p74 = ap_const_lv8_E) else "0";
    grp_fu_2003_p3 <= ap_phi_mux_empty_phi_fu_242_p4(41 downto 41);
    grp_fu_2011_p4 <= empty_reg_239(41 downto 40);
    head_ctx_ref_address0 <= head_ctx_ref_address0_local;

    head_ctx_ref_address0_local_assign_proc : process(ap_CS_fsm_state1, head_ctx_ref_addr_reg_2829, start_read_read_fu_124_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, zext_ln42_fu_2031_p1)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state3) or (ap_const_logic_1 = ap_CS_fsm_state2) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 
    = ap_CS_fsm_state4)))) then 
            head_ctx_ref_address0_local <= head_ctx_ref_addr_reg_2829;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state1)) then 
            head_ctx_ref_address0_local <= zext_ln42_fu_2031_p1(2 - 1 downto 0);
        else 
            head_ctx_ref_address0_local <= "XX";
        end if; 
    end process;

    head_ctx_ref_ce0 <= head_ctx_ref_ce0_local;

    head_ctx_ref_ce0_local_assign_proc : process(ap_start, ap_CS_fsm_state1, start_read_read_fu_124_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state3) or (ap_const_logic_1 = ap_CS_fsm_state2) or ((ap_start = ap_const_logic_1) and (ap_const_logic_1 = ap_CS_fsm_state1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 
    = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 
    = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            head_ctx_ref_ce0_local <= ap_const_logic_1;
        else 
            head_ctx_ref_ce0_local <= ap_const_logic_0;
        end if; 
    end process;

    head_ctx_ref_d0 <= head_ctx_ref_d0_local;

    head_ctx_ref_d0_local_assign_proc : process(start_read_read_fu_124_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4, shl_ln43_fu_2065_p2, shl_ln11_fu_2117_p2, shl_ln168_fu_2323_p2, shl_ln160_fu_2345_p2, shl_ln163_fu_2369_p2, shl_ln150_fu_2391_p2, shl_ln153_fu_2415_p2, shl_ln140_fu_2433_p2, shl_ln143_fu_2457_p2, shl_ln130_fu_2475_p2, shl_ln133_fu_2499_p2, shl_ln125_fu_2523_p2, shl_ln122_fu_2547_p2, shl_ln119_fu_2571_p2, shl_ln110_fu_2593_p2, shl_ln114_fu_2617_p2, shl_ln105_fu_2641_p2, shl_ln102_fu_2665_p2, shl_ln93_fu_2683_p2, shl_ln97_fu_2707_p2, shl_ln82_fu_2729_p2, shl_ln86_fu_2753_p2, shl_ln76_fu_2775_p2)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln76_fu_2775_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln86_fu_2753_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
            head_ctx_ref_d0_local <= shl_ln82_fu_2729_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln97_fu_2707_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
            head_ctx_ref_d0_local <= shl_ln93_fu_2683_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln102_fu_2665_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln105_fu_2641_p2;
        elsif (((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184))) then 
            head_ctx_ref_d0_local <= shl_ln114_fu_2617_p2;
        elsif (((or_ln108_reg_2956 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln110_fu_2593_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln119_fu_2571_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln122_fu_2547_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln125_fu_2523_p2;
        elsif (((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln133_fu_2499_p2;
        elsif (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln130_fu_2475_p2;
        elsif (((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln143_fu_2457_p2;
        elsif (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln140_fu_2433_p2;
        elsif (((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln153_fu_2415_p2;
        elsif (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln150_fu_2391_p2;
        elsif (((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln163_fu_2369_p2;
        elsif (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln160_fu_2345_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln168_fu_2323_p2;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state3)) then 
            head_ctx_ref_d0_local <= shl_ln11_fu_2117_p2;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state2)) then 
            head_ctx_ref_d0_local <= shl_ln43_fu_2065_p2;
        else 
            head_ctx_ref_d0_local <= "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
        end if; 
    end process;

    head_ctx_ref_we0 <= head_ctx_ref_we0_local;

    head_ctx_ref_we0_local_assign_proc : process(start_read_read_fu_124_p2, ap_CS_fsm_state2, icmp_ln46_reg_2880, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_25_reg_2928, or_ln148_reg_2932, tmp_23_reg_2936, or_ln138_reg_2940, tmp_21_reg_2944, or_ln128_reg_2948, tmp_19_reg_2952, or_ln108_reg_2956, tmp_17_reg_2960, or_ln91_reg_2964, tmp_15_reg_2968, or_ln80_reg_2972, tmp_13_reg_2976, Q_started_loc_0_reg_162, K_started_loc_0_reg_173, V_started_loc_0_reg_184, att_scores_started_loc_0_reg_195, val_scale_started_loc_0_reg_206, softmax_started_loc_0_reg_217, att_value_started_loc_0_reg_228, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state2) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_124_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_162) and (tmp_13_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_173) and (tmp_15_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_reg_2956 
    = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_17_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_184)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_19_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_195 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) 
    or ((tmp_21_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_206 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_23_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_217 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_25_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_228 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((icmp_ln46_reg_2880 = ap_const_lv1_0) 
    and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
            head_ctx_ref_we0_local <= ap_const_logic_1;
        else 
            head_ctx_ref_we0_local <= ap_const_logic_0;
        end if; 
    end process;

    icmp_ln46_fu_2076_p2 <= "1" when (trunc_ln46_fu_2072_p1 = layer_idx) else "0";
    lshr_ln42_1_fu_2021_p4 <= ctx(4 downto 3);
    lshr_ln42_fu_2051_p2 <= std_logic_vector(shift_right(unsigned(head_ctx_ref_q0),to_integer(unsigned('0' & zext_ln42_1_fu_2047_p1(31-1 downto 0)))));
    or_ln108_fu_2259_p2 <= (xor_ln108_fu_2253_p2 or ap_phi_mux_V_started_loc_0_phi_fu_187_p4);
    or_ln10_fu_2739_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_2) & trunc_ln86_fu_2735_p1);
    or_ln11_fu_2693_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_3) & trunc_ln97_fu_2689_p1);
    or_ln128_fu_2239_p2 <= (xor_ln128_fu_2233_p2 or ap_phi_mux_att_scores_started_loc_0_phi_fu_198_p4);
    or_ln12_fu_2603_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_6) & trunc_ln114_fu_2599_p1);
    or_ln138_fu_2219_p2 <= (xor_ln138_fu_2213_p2 or ap_phi_mux_val_scale_started_loc_0_phi_fu_209_p4);
    or_ln13_fu_2485_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_A) & trunc_ln133_fu_2481_p1);
    or_ln148_fu_2199_p2 <= (xor_ln148_fu_2193_p2 or ap_phi_mux_softmax_started_loc_0_phi_fu_220_p4);
    or_ln14_fu_2443_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_B) & trunc_ln143_fu_2439_p1);
    or_ln158_fu_2179_p2 <= (xor_ln158_fu_2173_p2 or ap_phi_mux_att_value_started_loc_0_phi_fu_231_p4);
    or_ln15_fu_2401_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_C) & trunc_ln153_fu_2397_p1);
    or_ln16_fu_2355_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_D) & trunc_ln163_fu_2351_p1);
    or_ln1_fu_2627_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_5) & trunc_ln105_fu_2623_p1);
    or_ln2_fu_2557_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_7) & trunc_ln119_fu_2553_p1);
    or_ln3_fu_2533_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_8) & trunc_ln122_fu_2529_p1);
    or_ln4_fu_2509_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_9) & trunc_ln125_fu_2505_p1);
    or_ln5_fu_2309_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_E) & trunc_ln168_fu_2305_p1);
    or_ln6_fu_2375_p3 <= (ap_const_lv3_5 & empty_reg_239);
    or_ln7_fu_2713_p3 <= (ap_const_lv1_1 & empty_reg_239);
    or_ln80_fu_2299_p2 <= (xor_ln80_fu_2293_p2 or ap_phi_mux_Q_started_loc_0_phi_fu_165_p4);
    or_ln8_fu_2329_p3 <= (ap_const_lv1_1 & empty_reg_239);
    or_ln91_fu_2279_p2 <= (xor_ln91_fu_2273_p2 or ap_phi_mux_K_started_loc_0_phi_fu_176_p4);
    or_ln9_fu_2577_p3 <= (ap_const_lv1_1 & empty_reg_239);
    or_ln_fu_2651_p4 <= ((grp_fu_2011_p4 & ap_const_lv8_4) & trunc_ln102_fu_2647_p1);
        sext_ln110_fu_2585_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(or_ln9_fu_2577_p3),45));

        sext_ln150_fu_2383_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(or_ln6_fu_2375_p3),46));

        sext_ln160_fu_2337_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(or_ln8_fu_2329_p3),46));

        sext_ln82_fu_2721_p1 <= std_logic_vector(IEEE.numeric_std.resize(signed(or_ln7_fu_2713_p3),44));

    shl_ln102_fu_2665_p2 <= std_logic_vector(shift_left(unsigned(zext_ln102_fu_2661_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln105_fu_2641_p2 <= std_logic_vector(shift_left(unsigned(zext_ln105_fu_2637_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln110_fu_2593_p2 <= std_logic_vector(shift_left(unsigned(zext_ln110_fu_2589_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln114_fu_2617_p2 <= std_logic_vector(shift_left(unsigned(zext_ln114_fu_2613_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln119_fu_2571_p2 <= std_logic_vector(shift_left(unsigned(zext_ln119_fu_2567_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln11_fu_2117_p2 <= std_logic_vector(shift_left(unsigned(zext_ln6_fu_2110_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln122_fu_2547_p2 <= std_logic_vector(shift_left(unsigned(zext_ln122_fu_2543_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln125_fu_2523_p2 <= std_logic_vector(shift_left(unsigned(zext_ln125_fu_2519_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln130_fu_2475_p2 <= std_logic_vector(shift_left(unsigned(zext_ln130_fu_2471_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln133_fu_2499_p2 <= std_logic_vector(shift_left(unsigned(zext_ln133_fu_2495_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln140_fu_2433_p2 <= std_logic_vector(shift_left(unsigned(zext_ln140_fu_2429_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln143_fu_2457_p2 <= std_logic_vector(shift_left(unsigned(zext_ln143_fu_2453_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln150_fu_2391_p2 <= std_logic_vector(shift_left(unsigned(zext_ln150_fu_2387_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln153_fu_2415_p2 <= std_logic_vector(shift_left(unsigned(zext_ln153_fu_2411_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln160_fu_2345_p2 <= std_logic_vector(shift_left(unsigned(zext_ln160_fu_2341_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln163_fu_2369_p2 <= std_logic_vector(shift_left(unsigned(zext_ln163_fu_2365_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln168_fu_2323_p2 <= std_logic_vector(shift_left(unsigned(zext_ln168_fu_2319_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln43_fu_2065_p2 <= std_logic_vector(shift_left(unsigned(zext_ln43_fu_2061_p1),to_integer(unsigned('0' & zext_ln42_1_fu_2047_p1(31-1 downto 0)))));
    shl_ln76_fu_2775_p2 <= std_logic_vector(shift_left(unsigned(zext_ln76_fu_2771_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln82_fu_2729_p2 <= std_logic_vector(shift_left(unsigned(zext_ln82_fu_2725_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln86_fu_2753_p2 <= std_logic_vector(shift_left(unsigned(zext_ln86_fu_2749_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln93_fu_2683_p2 <= std_logic_vector(shift_left(unsigned(zext_ln93_fu_2679_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln97_fu_2707_p2 <= std_logic_vector(shift_left(unsigned(zext_ln97_fu_2703_p1),to_integer(unsigned('0' & zext_ln42_1_reg_2849(31-1 downto 0)))));
    shl_ln_fu_2040_p3 <= (trunc_ln42_reg_2834 & ap_const_lv3_0);
    start_read_read_fu_124_p2 <= start_r;
    tmp_10_fu_2185_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_12_fu_2165_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_2_fu_2265_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_4_fu_2245_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_6_fu_2225_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_8_fu_2205_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    tmp_fu_2285_p3 <= ap_phi_mux_empty_phi_fu_242_p4(40 downto 40);
    trunc_ln102_fu_2647_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln105_fu_2623_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln114_fu_2599_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln119_fu_2553_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln122_fu_2529_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln125_fu_2505_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln133_fu_2481_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln143_fu_2439_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln153_fu_2397_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln163_fu_2351_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln168_fu_2305_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln1_fu_2123_p4 <= ap_phi_mux_empty_phi_fu_242_p4(39 downto 32);
    trunc_ln42_1_fu_2057_p1 <= lshr_ln42_fu_2051_p2(42 - 1 downto 0);
    trunc_ln42_fu_2036_p1 <= ctx(3 - 1 downto 0);
    trunc_ln46_fu_2072_p1 <= lshr_ln42_fu_2051_p2(32 - 1 downto 0);
    trunc_ln76_fu_2759_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln86_fu_2735_p1 <= empty_reg_239(32 - 1 downto 0);
    trunc_ln97_fu_2689_p1 <= empty_reg_239(32 - 1 downto 0);
    xor_ln108_fu_2253_p2 <= (tmp_4_fu_2245_p3 xor ap_const_lv1_1);
    xor_ln128_fu_2233_p2 <= (tmp_6_fu_2225_p3 xor ap_const_lv1_1);
    xor_ln138_fu_2213_p2 <= (tmp_8_fu_2205_p3 xor ap_const_lv1_1);
    xor_ln148_fu_2193_p2 <= (tmp_10_fu_2185_p3 xor ap_const_lv1_1);
    xor_ln158_fu_2173_p2 <= (tmp_12_fu_2165_p3 xor ap_const_lv1_1);
    xor_ln80_fu_2293_p2 <= (tmp_fu_2285_p3 xor ap_const_lv1_1);
    xor_ln91_fu_2273_p2 <= (tmp_2_fu_2265_p3 xor ap_const_lv1_1);
    zext_ln102_fu_2661_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln_fu_2651_p4),51));
    zext_ln105_fu_2637_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln1_fu_2627_p4),51));
    zext_ln110_fu_2589_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sext_ln110_fu_2585_p1),51));
    zext_ln114_fu_2613_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln12_fu_2603_p4),51));
    zext_ln119_fu_2567_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln2_fu_2557_p4),51));
    zext_ln11_fu_2113_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(layer_idx),42));
    zext_ln122_fu_2543_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln3_fu_2533_p4),51));
    zext_ln125_fu_2519_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln4_fu_2509_p4),51));
    zext_ln130_cast_fu_2463_p3 <= (ap_const_lv4_9 & empty_reg_239);
    zext_ln130_fu_2471_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(zext_ln130_cast_fu_2463_p3),51));
    zext_ln133_fu_2495_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln13_fu_2485_p4),51));
    zext_ln140_cast_fu_2421_p3 <= (ap_const_lv4_B & empty_reg_239);
    zext_ln140_fu_2429_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(zext_ln140_cast_fu_2421_p3),51));
    zext_ln143_fu_2453_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln14_fu_2443_p4),51));
    zext_ln150_fu_2387_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sext_ln150_fu_2383_p1),51));
    zext_ln153_fu_2411_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln15_fu_2401_p4),51));
    zext_ln160_fu_2341_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sext_ln160_fu_2337_p1),51));
    zext_ln163_fu_2365_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln16_fu_2355_p4),51));
    zext_ln168_fu_2319_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln5_fu_2309_p4),51));
    zext_ln42_1_fu_2047_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(shl_ln_fu_2040_p3),51));
    zext_ln42_fu_2031_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(lshr_ln42_1_fu_2021_p4),64));
    zext_ln43_fu_2061_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(trunc_ln42_1_fu_2057_p1),51));
    zext_ln6_fu_2110_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(layer_idx),51));
    zext_ln76_cast_fu_2763_p3 <= (ap_const_lv1_1 & trunc_ln76_fu_2759_p1);
    zext_ln76_fu_2771_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(zext_ln76_cast_fu_2763_p3),51));
    zext_ln82_fu_2725_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sext_ln82_fu_2721_p1),51));
    zext_ln86_fu_2749_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln10_fu_2739_p4),51));
    zext_ln93_cast_fu_2671_p3 <= (ap_const_lv3_5 & empty_reg_239);
    zext_ln93_fu_2679_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(zext_ln93_cast_fu_2671_p3),51));
    zext_ln97_fu_2703_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln11_fu_2693_p4),51));
end behav;
