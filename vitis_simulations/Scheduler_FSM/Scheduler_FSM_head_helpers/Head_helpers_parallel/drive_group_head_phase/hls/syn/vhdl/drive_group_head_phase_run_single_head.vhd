-- ==============================================================
-- Generated by Vitis HLS v2025.1
-- Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
-- Copyright 2022-2025 Advanced Micro Devices, Inc. All Rights Reserved.
-- ==============================================================

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity drive_group_head_phase_run_single_head is
port (
    ap_clk : IN STD_LOGIC;
    ap_rst : IN STD_LOGIC;
    ap_start : IN STD_LOGIC;
    ap_done : OUT STD_LOGIC;
    ap_idle : OUT STD_LOGIC;
    ap_ready : OUT STD_LOGIC;
    head_ctx_ref_address0 : OUT STD_LOGIC_VECTOR (1 downto 0);
    head_ctx_ref_ce0 : OUT STD_LOGIC;
    head_ctx_ref_we0 : OUT STD_LOGIC;
    head_ctx_ref_d0 : OUT STD_LOGIC_VECTOR (51 downto 0);
    head_ctx_ref_q0 : IN STD_LOGIC_VECTOR (51 downto 0);
    ctx : IN STD_LOGIC_VECTOR (4 downto 0);
    layer_idx : IN STD_LOGIC_VECTOR (31 downto 0);
    start_r : IN STD_LOGIC_VECTOR (0 downto 0);
    ap_return : OUT STD_LOGIC_VECTOR (0 downto 0) );
end;


architecture behav of drive_group_head_phase_run_single_head is 
    constant ap_const_logic_1 : STD_LOGIC := '1';
    constant ap_const_logic_0 : STD_LOGIC := '0';
    constant ap_ST_fsm_state1 : STD_LOGIC_VECTOR (3 downto 0) := "0001";
    constant ap_ST_fsm_state2 : STD_LOGIC_VECTOR (3 downto 0) := "0010";
    constant ap_ST_fsm_state3 : STD_LOGIC_VECTOR (3 downto 0) := "0100";
    constant ap_ST_fsm_state4 : STD_LOGIC_VECTOR (3 downto 0) := "1000";
    constant ap_const_boolean_1 : BOOLEAN := true;
    constant ap_const_lv32_0 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000000";
    constant ap_const_lv1_0 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    constant ap_const_lv32_1 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000001";
    constant ap_const_lv32_2 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000010";
    constant ap_const_lv1_1 : STD_LOGIC_VECTOR (0 downto 0) := "1";
    constant ap_const_lv8_0 : STD_LOGIC_VECTOR (7 downto 0) := "00000000";
    constant ap_const_lv8_1 : STD_LOGIC_VECTOR (7 downto 0) := "00000001";
    constant ap_const_lv8_2 : STD_LOGIC_VECTOR (7 downto 0) := "00000010";
    constant ap_const_lv8_3 : STD_LOGIC_VECTOR (7 downto 0) := "00000011";
    constant ap_const_lv8_4 : STD_LOGIC_VECTOR (7 downto 0) := "00000100";
    constant ap_const_lv8_5 : STD_LOGIC_VECTOR (7 downto 0) := "00000101";
    constant ap_const_lv8_6 : STD_LOGIC_VECTOR (7 downto 0) := "00000110";
    constant ap_const_lv8_7 : STD_LOGIC_VECTOR (7 downto 0) := "00000111";
    constant ap_const_lv8_8 : STD_LOGIC_VECTOR (7 downto 0) := "00001000";
    constant ap_const_lv8_9 : STD_LOGIC_VECTOR (7 downto 0) := "00001001";
    constant ap_const_lv8_A : STD_LOGIC_VECTOR (7 downto 0) := "00001010";
    constant ap_const_lv8_B : STD_LOGIC_VECTOR (7 downto 0) := "00001011";
    constant ap_const_lv8_C : STD_LOGIC_VECTOR (7 downto 0) := "00001100";
    constant ap_const_lv8_D : STD_LOGIC_VECTOR (7 downto 0) := "00001101";
    constant ap_const_lv32_3 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000011";
    constant ap_const_lv8_E : STD_LOGIC_VECTOR (7 downto 0) := "00001110";
    constant ap_const_lv32_29 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000101001";
    constant ap_const_lv32_28 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000101000";
    constant ap_const_lv32_33 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000110011";
    constant ap_const_lv32_4 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000100";
    constant ap_const_lv3_0 : STD_LOGIC_VECTOR (2 downto 0) := "000";
    constant ap_const_lv9_0 : STD_LOGIC_VECTOR (8 downto 0) := "000000000";
    constant ap_const_lv19_0 : STD_LOGIC_VECTOR (18 downto 0) := "0000000000000000000";
    constant ap_const_lv32_20 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000100000";
    constant ap_const_lv32_27 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000100111";
    constant ap_const_lv9_F : STD_LOGIC_VECTOR (8 downto 0) := "000001111";
    constant ap_const_lv9_D : STD_LOGIC_VECTOR (8 downto 0) := "000001101";
    constant ap_const_lv9_B : STD_LOGIC_VECTOR (8 downto 0) := "000001011";
    constant ap_const_lv9_9 : STD_LOGIC_VECTOR (8 downto 0) := "000001001";
    constant ap_const_lv9_7 : STD_LOGIC_VECTOR (8 downto 0) := "000000111";
    constant ap_const_lv9_5 : STD_LOGIC_VECTOR (8 downto 0) := "000000101";
    constant ap_const_lv9_3 : STD_LOGIC_VECTOR (8 downto 0) := "000000011";
    constant ap_const_lv32_2B : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000101011";
    constant ap_const_lv11_1 : STD_LOGIC_VECTOR (10 downto 0) := "00000000001";

attribute shreg_extract : string;
    signal ap_CS_fsm : STD_LOGIC_VECTOR (3 downto 0) := "0001";
    attribute fsm_encoding : string;
    attribute fsm_encoding of ap_CS_fsm : signal is "none";
    signal ap_CS_fsm_state1 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state1 : signal is "none";
    signal Q_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal K_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal V_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal att_scores_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal val_scale_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal softmax_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal att_value_started : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal head_ctx_ref_addr_reg_2825 : STD_LOGIC_VECTOR (1 downto 0);
    signal trunc_ln42_fu_2062_p1 : STD_LOGIC_VECTOR (2 downto 0);
    signal trunc_ln42_reg_2830 : STD_LOGIC_VECTOR (2 downto 0);
    signal start_read_read_fu_142_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_CS_fsm_state2 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state2 : signal is "none";
    signal zext_ln42_1_fu_2073_p1 : STD_LOGIC_VECTOR (51 downto 0);
    signal zext_ln42_1_reg_2844 : STD_LOGIC_VECTOR (51 downto 0);
    signal tmp_fu_2083_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_reg_2870 : STD_LOGIC_VECTOR (0 downto 0);
    signal and_ln_fu_2095_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal icmp_ln46_fu_2116_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln46_reg_2880 : STD_LOGIC_VECTOR (0 downto 0);
    signal trunc_ln1_fu_2165_p4 : STD_LOGIC_VECTOR (7 downto 0);
    signal trunc_ln1_reg_2919 : STD_LOGIC_VECTOR (7 downto 0);
    signal ap_CS_fsm_state3 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state3 : signal is "none";
    signal or_ln158_fu_2221_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln158_reg_2924 : STD_LOGIC_VECTOR (0 downto 0);
    signal grp_fu_2021_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_26_reg_2928 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln148_fu_2241_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln148_reg_2932 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_24_reg_2936 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln138_fu_2261_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln138_reg_2940 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_22_reg_2944 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln128_fu_2281_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln128_reg_2948 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_20_reg_2952 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln108_fu_2301_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln108_reg_2956 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_18_reg_2960 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln91_fu_2321_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln91_reg_2964 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_16_reg_2968 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln80_fu_2341_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal or_ln80_reg_2972 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_14_reg_2976 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_Q_started_flag_0_phi_fu_171_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_flag_0_reg_167 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_loc_0_reg_180 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_loc_0_phi_fu_194_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_loc_0_reg_191 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_loc_0_phi_fu_205_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_loc_0_reg_202 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_loc_0_reg_213 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_loc_0_reg_224 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_loc_0_reg_235 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_loc_0_reg_246 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_empty_phi_fu_260_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal empty_reg_257 : STD_LOGIC_VECTOR (51 downto 0);
    signal or_ln6_fu_2150_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal ap_phi_mux_Q_started_flag_1_phi_fu_270_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_flag_1_reg_267 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_CS_fsm_state4 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state4 : signal is "none";
    signal ap_phi_mux_Q_started_new_1_phi_fu_387_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal Q_started_new_1_reg_383 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_flag_1_phi_fu_503_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_flag_1_reg_500 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_K_started_new_1_phi_fu_620_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal K_started_new_1_reg_616 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_flag_1_phi_fu_736_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_flag_1_reg_733 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_V_started_new_1_phi_fu_853_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal V_started_new_1_reg_849 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_flag_1_reg_966 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_scores_started_new_1_reg_1082 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_flag_1_reg_1199 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal val_scale_started_new_1_reg_1315 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_flag_1_reg_1432 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal softmax_started_new_1_reg_1548 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_flag_1_reg_1665 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74 : STD_LOGIC_VECTOR (0 downto 0);
    signal att_value_started_new_1_reg_1781 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_phi_mux_empty_13_phi_fu_1909_p74 : STD_LOGIC_VECTOR (7 downto 0);
    signal empty_13_reg_1898 : STD_LOGIC_VECTOR (7 downto 0);
    signal zext_ln42_fu_2057_p1 : STD_LOGIC_VECTOR (63 downto 0);
    signal head_ctx_ref_ce0_local : STD_LOGIC;
    signal head_ctx_ref_address0_local : STD_LOGIC_VECTOR (1 downto 0);
    signal head_ctx_ref_we0_local : STD_LOGIC;
    signal head_ctx_ref_d0_local : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln43_fu_2105_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln11_fu_2159_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln168_fu_2361_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln160_fu_2381_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln163_fu_2401_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln150_fu_2421_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln153_fu_2441_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln140_fu_2461_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln143_fu_2481_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln130_fu_2501_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln133_fu_2521_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln125_fu_2541_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln122_fu_2561_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln119_fu_2581_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln110_fu_2601_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln114_fu_2621_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln105_fu_2641_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln102_fu_2661_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln93_fu_2681_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln97_fu_2701_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln82_fu_2721_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln86_fu_2741_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal shl_ln76_fu_2771_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal lshr_ln42_1_fu_2047_p4 : STD_LOGIC_VECTOR (1 downto 0);
    signal shl_ln_fu_2066_p3 : STD_LOGIC_VECTOR (5 downto 0);
    signal lshr_ln42_fu_2077_p2 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln42_1_fu_2091_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal trunc_ln46_fu_2112_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal tmp_11_fu_2207_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln158_fu_2215_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_10_fu_2227_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln148_fu_2235_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_9_fu_2247_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln138_fu_2255_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_7_fu_2267_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln128_fu_2275_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_3_fu_2287_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln108_fu_2295_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_2_fu_2307_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln91_fu_2315_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_1_fu_2327_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal xor_ln80_fu_2335_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal grp_fu_2029_p4 : STD_LOGIC_VECTOR (11 downto 0);
    signal trunc_ln168_fu_2347_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln5_fu_2351_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal grp_fu_2039_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal trunc_ln159_fu_2367_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln14_fu_2371_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln163_fu_2387_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln21_fu_2391_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln149_fu_2407_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln13_fu_2411_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln153_fu_2427_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln20_fu_2431_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln139_fu_2447_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln12_fu_2451_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln143_fu_2467_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln19_fu_2471_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln129_fu_2487_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln11_fu_2491_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln133_fu_2507_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln18_fu_2511_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln125_fu_2527_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln4_fu_2531_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln122_fu_2547_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln3_fu_2551_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln119_fu_2567_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln2_fu_2571_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln109_fu_2587_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln10_fu_2591_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln114_fu_2607_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln17_fu_2611_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln105_fu_2627_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln1_fu_2631_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln102_fu_2647_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln_fu_2651_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln92_fu_2667_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln9_fu_2671_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln97_fu_2687_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln16_fu_2691_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln81_fu_2707_p1 : STD_LOGIC_VECTOR (41 downto 0);
    signal or_ln8_fu_2711_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal trunc_ln86_fu_2727_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln15_fu_2731_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal tmp_13_fu_2747_p4 : STD_LOGIC_VECTOR (8 downto 0);
    signal trunc_ln66_fu_2757_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal or_ln7_fu_2761_p4 : STD_LOGIC_VECTOR (51 downto 0);
    signal finished_fu_2777_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_return_preg : STD_LOGIC_VECTOR (0 downto 0) := "0";
    signal ap_NS_fsm : STD_LOGIC_VECTOR (3 downto 0);
    signal ap_ST_fsm_state1_blk : STD_LOGIC;
    signal ap_ST_fsm_state2_blk : STD_LOGIC;
    signal ap_ST_fsm_state3_blk : STD_LOGIC;
    signal ap_ST_fsm_state4_blk : STD_LOGIC;
    signal ap_ce_reg : STD_LOGIC;


begin




    K_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                K_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_K_started_flag_1_phi_fu_503_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    K_started <= ap_phi_mux_K_started_new_1_phi_fu_620_p74;
                end if; 
            end if;
        end if;
    end process;


    Q_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                Q_started <= ap_const_lv1_0;
            else
                if (((ap_const_logic_1 = ap_CS_fsm_state4) and (ap_phi_mux_Q_started_flag_1_phi_fu_270_p74 = ap_const_lv1_1))) then 
                    Q_started <= ap_phi_mux_Q_started_new_1_phi_fu_387_p74;
                end if; 
            end if;
        end if;
    end process;


    V_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                V_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_V_started_flag_1_phi_fu_736_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    V_started <= ap_phi_mux_V_started_new_1_phi_fu_853_p74;
                end if; 
            end if;
        end if;
    end process;


    ap_CS_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_fsm <= ap_ST_fsm_state1;
            else
                ap_CS_fsm <= ap_NS_fsm;
            end if;
        end if;
    end process;


    ap_return_preg_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_return_preg <= ap_const_lv1_0;
            else
                if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
                    ap_return_preg <= finished_fu_2777_p2;
                end if; 
            end if;
        end if;
    end process;


    att_scores_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                att_scores_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    att_scores_started <= ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74;
                end if; 
            end if;
        end if;
    end process;


    att_value_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                att_value_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    att_value_started <= ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74;
                end if; 
            end if;
        end if;
    end process;


    softmax_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                softmax_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    softmax_started <= ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74;
                end if; 
            end if;
        end if;
    end process;


    val_scale_started_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                val_scale_started <= ap_const_lv1_0;
            else
                if (((ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                    val_scale_started <= ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74;
                end if; 
            end if;
        end if;
    end process;


    K_started_flag_1_reg_500_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)))) then 
                K_started_flag_1_reg_500 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                K_started_flag_1_reg_500 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                K_started_flag_1_reg_500 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    K_started_loc_0_reg_191_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                K_started_loc_0_reg_191 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                K_started_loc_0_reg_191 <= K_started;
            end if; 
        end if;
    end process;

    K_started_new_1_reg_616_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
                K_started_new_1_reg_616 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 
    = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 
    = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 
    = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                K_started_new_1_reg_616 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    Q_started_flag_0_reg_167_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                Q_started_flag_0_reg_167 <= ap_const_lv1_1;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                Q_started_flag_0_reg_167 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    Q_started_flag_1_reg_267_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)))) then 
                Q_started_flag_1_reg_267 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                Q_started_flag_1_reg_267 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                Q_started_flag_1_reg_267 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    Q_started_loc_0_reg_180_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                Q_started_loc_0_reg_180 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                Q_started_loc_0_reg_180 <= Q_started;
            end if; 
        end if;
    end process;

    Q_started_new_1_reg_383_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
                Q_started_new_1_reg_383 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 
    = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 
    = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 
    = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                Q_started_new_1_reg_383 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    V_started_flag_1_reg_733_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)))) then 
                V_started_flag_1_reg_733 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                V_started_flag_1_reg_733 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                V_started_flag_1_reg_733 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    V_started_loc_0_reg_202_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                V_started_loc_0_reg_202 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                V_started_loc_0_reg_202 <= V_started;
            end if; 
        end if;
    end process;

    V_started_new_1_reg_849_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0))) then 
                V_started_new_1_reg_849 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 
    = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 
    = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                V_started_new_1_reg_849 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    att_scores_started_flag_1_reg_966_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)))) then 
                att_scores_started_flag_1_reg_966 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                att_scores_started_flag_1_reg_966 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_scores_started_flag_1_reg_966 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    att_scores_started_loc_0_reg_213_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                att_scores_started_loc_0_reg_213 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                att_scores_started_loc_0_reg_213 <= att_scores_started;
            end if; 
        end if;
    end process;

    att_scores_started_new_1_reg_1082_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                att_scores_started_new_1_reg_1082 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 
    = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 
    = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 
    = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_scores_started_new_1_reg_1082 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    att_value_started_flag_1_reg_1665_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)))) then 
                att_value_started_flag_1_reg_1665 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                att_value_started_flag_1_reg_1665 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_value_started_flag_1_reg_1665 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    att_value_started_loc_0_reg_246_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                att_value_started_loc_0_reg_246 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                att_value_started_loc_0_reg_246 <= att_value_started;
            end if; 
        end if;
    end process;

    att_value_started_new_1_reg_1781_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                att_value_started_new_1_reg_1781 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) 
    and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) 
    and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) 
    and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                att_value_started_new_1_reg_1781 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    empty_13_reg_1898_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                empty_13_reg_1898 <= ap_const_lv8_0;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)))) then 
                empty_13_reg_1898 <= ap_const_lv8_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)))) then 
                empty_13_reg_1898 <= ap_const_lv8_2;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
                empty_13_reg_1898 <= ap_const_lv8_3;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1898 <= ap_const_lv8_4;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)))) then 
                empty_13_reg_1898 <= ap_const_lv8_5;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1))) then 
                empty_13_reg_1898 <= ap_const_lv8_6;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1898 <= ap_const_lv8_7;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1898 <= ap_const_lv8_8;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1898 <= ap_const_lv8_9;
            elsif ((((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1898 <= ap_const_lv8_A;
            elsif ((((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1898 <= ap_const_lv8_B;
            elsif ((((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)))) then 
                empty_13_reg_1898 <= ap_const_lv8_C;
            elsif (((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1))) then 
                empty_13_reg_1898 <= ap_const_lv8_D;
            elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                empty_13_reg_1898 <= ap_const_lv8_E;
            elsif ((not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                empty_13_reg_1898 <= ap_phi_mux_empty_phi_fu_260_p4(39 downto 32);
            end if; 
        end if;
    end process;

    empty_reg_257_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                                empty_reg_257(41 downto 0) <= or_ln6_fu_2150_p4(41 downto 0);                empty_reg_257(51) <= or_ln6_fu_2150_p4(51);
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                                empty_reg_257(41 downto 0) <= and_ln_fu_2095_p4(41 downto 0);                empty_reg_257(51) <= and_ln_fu_2095_p4(51);
            end if; 
        end if;
    end process;

    softmax_started_flag_1_reg_1432_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)))) then 
                softmax_started_flag_1_reg_1432 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                softmax_started_flag_1_reg_1432 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                softmax_started_flag_1_reg_1432 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    softmax_started_loc_0_reg_235_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                softmax_started_loc_0_reg_235 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                softmax_started_loc_0_reg_235 <= softmax_started;
            end if; 
        end if;
    end process;

    softmax_started_new_1_reg_1548_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                softmax_started_new_1_reg_1548 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) 
    and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 
    = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) 
    and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                softmax_started_new_1_reg_1548 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;

    val_scale_started_flag_1_reg_1199_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)))) then 
                val_scale_started_flag_1_reg_1199 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
                val_scale_started_flag_1_reg_1199 <= Q_started_flag_0_reg_167;
            elsif ((((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 = ap_const_lv1_0)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) 
    and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) 
    and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                val_scale_started_flag_1_reg_1199 <= ap_phi_mux_Q_started_flag_0_phi_fu_171_p4;
            end if; 
        end if;
    end process;

    val_scale_started_loc_0_reg_224_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
                val_scale_started_loc_0_reg_224 <= ap_const_lv1_0;
            elsif (((icmp_ln46_fu_2116_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
                val_scale_started_loc_0_reg_224 <= val_scale_started;
            end if; 
        end if;
    end process;

    val_scale_started_new_1_reg_1315_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
                val_scale_started_new_1_reg_1315 <= ap_const_lv1_1;
            elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 
    = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln108_fu_2301_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_V_started_loc_0_phi_fu_205_p4 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln128_fu_2281_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 = ap_const_lv1_0)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln138_fu_2261_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 
    = ap_const_lv1_0)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((or_ln148_fu_2241_p2 = ap_const_lv1_1) and (grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 = ap_const_lv1_0)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) 
    and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln91_fu_2321_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_0) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (or_ln158_fu_2221_p2 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 = ap_const_lv1_0)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_K_started_loc_0_phi_fu_194_p4 = ap_const_lv1_0) and (or_ln91_fu_2321_p2 
    = ap_const_lv1_1)) or ((grp_fu_2021_p3 = ap_const_lv1_1) and (trunc_ln1_fu_2165_p4 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state3) and (ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 = ap_const_lv1_0) and (or_ln80_fu_2341_p2 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or (not((trunc_ln1_fu_2165_p4 = ap_const_lv8_D)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_C)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_B)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_A)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_9)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_8)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_7)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_6)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_5)) and not((trunc_ln1_fu_2165_p4 
    = ap_const_lv8_4)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_3)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_2)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_1)) and not((trunc_ln1_fu_2165_p4 = ap_const_lv8_0)) and (ap_const_logic_1 = ap_CS_fsm_state3)) or ((trunc_ln1_fu_2165_p4 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
                val_scale_started_new_1_reg_1315 <= ap_const_lv1_0;
            end if; 
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state1)) then
                head_ctx_ref_addr_reg_2825 <= zext_ln42_fu_2057_p1(2 - 1 downto 0);
                trunc_ln42_reg_2830 <= trunc_ln42_fu_2062_p1;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state2)) then
                icmp_ln46_reg_2880 <= icmp_ln46_fu_2116_p2;
                tmp_reg_2870 <= lshr_ln42_fu_2077_p2(51 downto 51);
                    zext_ln42_1_reg_2844(5 downto 3) <= zext_ln42_1_fu_2073_p1(5 downto 3);
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_CS_fsm_state3)) then
                or_ln108_reg_2956 <= or_ln108_fu_2301_p2;
                or_ln128_reg_2948 <= or_ln128_fu_2281_p2;
                or_ln138_reg_2940 <= or_ln138_fu_2261_p2;
                or_ln148_reg_2932 <= or_ln148_fu_2241_p2;
                or_ln158_reg_2924 <= or_ln158_fu_2221_p2;
                or_ln80_reg_2972 <= or_ln80_fu_2341_p2;
                or_ln91_reg_2964 <= or_ln91_fu_2321_p2;
                tmp_14_reg_2976 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_16_reg_2968 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_18_reg_2960 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_20_reg_2952 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_22_reg_2944 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_24_reg_2936 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                tmp_26_reg_2928 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
                trunc_ln1_reg_2919 <= ap_phi_mux_empty_phi_fu_260_p4(39 downto 32);
            end if;
        end if;
    end process;
    zext_ln42_1_reg_2844(2 downto 0) <= "000";
    zext_ln42_1_reg_2844(51 downto 6) <= "0000000000000000000000000000000000000000000000";
    empty_reg_257(50 downto 42) <= "000000000";

    ap_NS_fsm_assign_proc : process (ap_start, ap_CS_fsm, ap_CS_fsm_state1)
    begin
        case ap_CS_fsm is
            when ap_ST_fsm_state1 => 
                if (((ap_start = ap_const_logic_1) and (ap_const_logic_1 = ap_CS_fsm_state1))) then
                    ap_NS_fsm <= ap_ST_fsm_state2;
                else
                    ap_NS_fsm <= ap_ST_fsm_state1;
                end if;
            when ap_ST_fsm_state2 => 
                ap_NS_fsm <= ap_ST_fsm_state3;
            when ap_ST_fsm_state3 => 
                ap_NS_fsm <= ap_ST_fsm_state4;
            when ap_ST_fsm_state4 => 
                ap_NS_fsm <= ap_ST_fsm_state1;
            when others =>  
                ap_NS_fsm <= "XXXX";
        end case;
    end process;
    and_ln_fu_2095_p4 <= ((tmp_fu_2083_p3 & ap_const_lv9_0) & trunc_ln42_1_fu_2091_p1);
    ap_CS_fsm_state1 <= ap_CS_fsm(0);
    ap_CS_fsm_state2 <= ap_CS_fsm(1);
    ap_CS_fsm_state3 <= ap_CS_fsm(2);
    ap_CS_fsm_state4 <= ap_CS_fsm(3);

    ap_ST_fsm_state1_blk_assign_proc : process(ap_start)
    begin
        if ((ap_start = ap_const_logic_0)) then 
            ap_ST_fsm_state1_blk <= ap_const_logic_1;
        else 
            ap_ST_fsm_state1_blk <= ap_const_logic_0;
        end if; 
    end process;

    ap_ST_fsm_state2_blk <= ap_const_logic_0;
    ap_ST_fsm_state3_blk <= ap_const_logic_0;
    ap_ST_fsm_state4_blk <= ap_const_logic_0;

    ap_done_assign_proc : process(ap_start, ap_CS_fsm_state1, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state4) or ((ap_start = ap_const_logic_0) and (ap_const_logic_1 = ap_CS_fsm_state1)))) then 
            ap_done <= ap_const_logic_1;
        else 
            ap_done <= ap_const_logic_0;
        end if; 
    end process;


    ap_idle_assign_proc : process(ap_start, ap_CS_fsm_state1)
    begin
        if (((ap_start = ap_const_logic_0) and (ap_const_logic_1 = ap_CS_fsm_state1))) then 
            ap_idle <= ap_const_logic_1;
        else 
            ap_idle <= ap_const_logic_0;
        end if; 
    end process;


    ap_phi_mux_K_started_flag_1_phi_fu_503_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, K_started_flag_1_reg_500)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)))) then 
            ap_phi_mux_K_started_flag_1_phi_fu_503_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_K_started_flag_1_phi_fu_503_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_K_started_flag_1_phi_fu_503_p74 <= K_started_flag_1_reg_500;
        end if; 
    end process;


    ap_phi_mux_K_started_loc_0_phi_fu_194_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, K_started_loc_0_reg_191)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_K_started_loc_0_phi_fu_194_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_K_started_loc_0_phi_fu_194_p4 <= K_started_loc_0_reg_191;
        end if; 
    end process;


    ap_phi_mux_K_started_new_1_phi_fu_620_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, K_started_new_1_reg_616)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
            ap_phi_mux_K_started_new_1_phi_fu_620_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_K_started_new_1_phi_fu_620_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_K_started_new_1_phi_fu_620_p74 <= K_started_new_1_reg_616;
        end if; 
    end process;


    ap_phi_mux_Q_started_flag_0_phi_fu_171_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, Q_started_flag_0_reg_167)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_Q_started_flag_0_phi_fu_171_p4 <= ap_const_lv1_1;
        else 
            ap_phi_mux_Q_started_flag_0_phi_fu_171_p4 <= Q_started_flag_0_reg_167;
        end if; 
    end process;


    ap_phi_mux_Q_started_flag_1_phi_fu_270_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, Q_started_flag_1_reg_267, ap_CS_fsm_state4)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)))) then 
            ap_phi_mux_Q_started_flag_1_phi_fu_270_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_Q_started_flag_1_phi_fu_270_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_Q_started_flag_1_phi_fu_270_p74 <= Q_started_flag_1_reg_267;
        end if; 
    end process;


    ap_phi_mux_Q_started_loc_0_phi_fu_183_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, Q_started_loc_0_reg_180)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_Q_started_loc_0_phi_fu_183_p4 <= Q_started_loc_0_reg_180;
        end if; 
    end process;


    ap_phi_mux_Q_started_new_1_phi_fu_387_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, Q_started_new_1_reg_383)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
            ap_phi_mux_Q_started_new_1_phi_fu_387_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_Q_started_new_1_phi_fu_387_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_Q_started_new_1_phi_fu_387_p74 <= Q_started_new_1_reg_383;
        end if; 
    end process;


    ap_phi_mux_V_started_flag_1_phi_fu_736_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, V_started_flag_1_reg_733)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)))) then 
            ap_phi_mux_V_started_flag_1_phi_fu_736_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = 
    ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_V_started_flag_1_phi_fu_736_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_V_started_flag_1_phi_fu_736_p74 <= V_started_flag_1_reg_733;
        end if; 
    end process;


    ap_phi_mux_V_started_loc_0_phi_fu_205_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, V_started_loc_0_reg_202)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_V_started_loc_0_phi_fu_205_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_V_started_loc_0_phi_fu_205_p4 <= V_started_loc_0_reg_202;
        end if; 
    end process;


    ap_phi_mux_V_started_new_1_phi_fu_853_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, V_started_new_1_reg_849)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0))) then 
            ap_phi_mux_V_started_new_1_phi_fu_853_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_V_started_new_1_phi_fu_853_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_V_started_new_1_phi_fu_853_p74 <= V_started_new_1_reg_849;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, att_scores_started_flag_1_reg_966)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)))) then 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_att_scores_started_flag_1_phi_fu_969_p74 <= att_scores_started_flag_1_reg_966;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, att_scores_started_loc_0_reg_213)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4 <= att_scores_started_loc_0_reg_213;
        end if; 
    end process;


    ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, att_scores_started_new_1_reg_1082)
    begin
        if (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_scores_started_new_1_phi_fu_1086_p74 <= att_scores_started_new_1_reg_1082;
        end if; 
    end process;


    ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, att_value_started_flag_1_reg_1665)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)))) then 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_att_value_started_flag_1_phi_fu_1668_p74 <= att_value_started_flag_1_reg_1665;
        end if; 
    end process;


    ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, att_value_started_loc_0_reg_246)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4 <= att_value_started_loc_0_reg_246;
        end if; 
    end process;


    ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, att_value_started_new_1_reg_1781)
    begin
        if (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = 
    ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_att_value_started_new_1_phi_fu_1785_p74 <= att_value_started_new_1_reg_1781;
        end if; 
    end process;


    ap_phi_mux_empty_13_phi_fu_1909_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, empty_13_reg_1898)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_3;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_4;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_5;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_6;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_7;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_8;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_9;
        elsif ((((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_A;
        elsif ((((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_B;
        elsif ((((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_C;
        elsif (((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_D;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= ap_const_lv8_E;
        else 
            ap_phi_mux_empty_13_phi_fu_1909_p74 <= empty_13_reg_1898;
        end if; 
    end process;


    ap_phi_mux_empty_phi_fu_260_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, empty_reg_257, or_ln6_fu_2150_p4)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_empty_phi_fu_260_p4 <= or_ln6_fu_2150_p4;
        else 
            ap_phi_mux_empty_phi_fu_260_p4 <= empty_reg_257;
        end if; 
    end process;


    ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, softmax_started_flag_1_reg_1432)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)))) then 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_softmax_started_flag_1_phi_fu_1435_p74 <= softmax_started_flag_1_reg_1432;
        end if; 
    end process;


    ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, softmax_started_loc_0_reg_235)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4 <= softmax_started_loc_0_reg_235;
        end if; 
    end process;


    ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, softmax_started_new_1_reg_1548)
    begin
        if (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = 
    ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_softmax_started_new_1_phi_fu_1552_p74 <= softmax_started_new_1_reg_1548;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_flag_0_reg_167, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, val_scale_started_flag_1_reg_1199)
    begin
        if ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)))) then 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74 <= Q_started_flag_0_reg_167;
        else 
            ap_phi_mux_val_scale_started_flag_1_phi_fu_1202_p74 <= val_scale_started_flag_1_reg_1199;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4_assign_proc : process(icmp_ln46_reg_2880, ap_CS_fsm_state3, val_scale_started_loc_0_reg_224)
    begin
        if (((icmp_ln46_reg_2880 = ap_const_lv1_0) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 <= ap_const_lv1_0;
        else 
            ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4 <= val_scale_started_loc_0_reg_224;
        end if; 
    end process;


    ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74_assign_proc : process(start_read_read_fu_142_p2, trunc_ln1_reg_2919, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, val_scale_started_new_1_reg_1315)
    begin
        if (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74 <= ap_const_lv1_1;
        elsif ((((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 
    = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) 
    and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74 <= ap_const_lv1_0;
        else 
            ap_phi_mux_val_scale_started_new_1_phi_fu_1319_p74 <= val_scale_started_new_1_reg_1315;
        end if; 
    end process;


    ap_ready_assign_proc : process(ap_CS_fsm_state4)
    begin
        if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
            ap_ready <= ap_const_logic_1;
        else 
            ap_ready <= ap_const_logic_0;
        end if; 
    end process;


    ap_return_assign_proc : process(ap_CS_fsm_state4, finished_fu_2777_p2, ap_return_preg)
    begin
        if ((ap_const_logic_1 = ap_CS_fsm_state4)) then 
            ap_return <= finished_fu_2777_p2;
        else 
            ap_return <= ap_return_preg;
        end if; 
    end process;

    finished_fu_2777_p2 <= "1" when (ap_phi_mux_empty_13_phi_fu_1909_p74 = ap_const_lv8_E) else "0";
    grp_fu_2021_p3 <= ap_phi_mux_empty_phi_fu_260_p4(41 downto 41);
    grp_fu_2029_p4 <= empty_reg_257(51 downto 40);
    grp_fu_2039_p3 <= empty_reg_257(51 downto 51);
    head_ctx_ref_address0 <= head_ctx_ref_address0_local;

    head_ctx_ref_address0_local_assign_proc : process(ap_CS_fsm_state1, head_ctx_ref_addr_reg_2825, start_read_read_fu_142_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, zext_ln42_fu_2057_p1)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state3) or (ap_const_logic_1 = ap_CS_fsm_state2) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 
    = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 
    = ap_CS_fsm_state4)))) then 
            head_ctx_ref_address0_local <= head_ctx_ref_addr_reg_2825;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state1)) then 
            head_ctx_ref_address0_local <= zext_ln42_fu_2057_p1(2 - 1 downto 0);
        else 
            head_ctx_ref_address0_local <= "XX";
        end if; 
    end process;

    head_ctx_ref_ce0 <= head_ctx_ref_ce0_local;

    head_ctx_ref_ce0_local_assign_proc : process(ap_start, ap_CS_fsm_state1, start_read_read_fu_142_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state3) or (ap_const_logic_1 = ap_CS_fsm_state2) or ((ap_start = ap_const_logic_1) and (ap_const_logic_1 = ap_CS_fsm_state1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 
    = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 
    = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 
    = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)))) then 
            head_ctx_ref_ce0_local <= ap_const_logic_1;
        else 
            head_ctx_ref_ce0_local <= ap_const_logic_0;
        end if; 
    end process;

    head_ctx_ref_d0 <= head_ctx_ref_d0_local;

    head_ctx_ref_d0_local_assign_proc : process(start_read_read_fu_142_p2, ap_CS_fsm_state2, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4, shl_ln43_fu_2105_p2, shl_ln11_fu_2159_p2, shl_ln168_fu_2361_p2, shl_ln160_fu_2381_p2, shl_ln163_fu_2401_p2, shl_ln150_fu_2421_p2, shl_ln153_fu_2441_p2, shl_ln140_fu_2461_p2, shl_ln143_fu_2481_p2, shl_ln130_fu_2501_p2, shl_ln133_fu_2521_p2, shl_ln125_fu_2541_p2, shl_ln122_fu_2561_p2, shl_ln119_fu_2581_p2, shl_ln110_fu_2601_p2, shl_ln114_fu_2621_p2, shl_ln105_fu_2641_p2, shl_ln102_fu_2661_p2, shl_ln93_fu_2681_p2, shl_ln97_fu_2701_p2, shl_ln82_fu_2721_p2, shl_ln86_fu_2741_p2, shl_ln76_fu_2771_p2)
    begin
        if (((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln76_fu_2771_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln86_fu_2741_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0))) then 
            head_ctx_ref_d0_local <= shl_ln82_fu_2721_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln97_fu_2701_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0))) then 
            head_ctx_ref_d0_local <= shl_ln93_fu_2681_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln102_fu_2661_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln105_fu_2641_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln114_fu_2621_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0))) then 
            head_ctx_ref_d0_local <= shl_ln110_fu_2601_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln119_fu_2581_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln122_fu_2561_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln125_fu_2541_p2;
        elsif (((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln133_fu_2521_p2;
        elsif (((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln130_fu_2501_p2;
        elsif (((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln143_fu_2481_p2;
        elsif (((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln140_fu_2461_p2;
        elsif (((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln153_fu_2441_p2;
        elsif (((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln150_fu_2421_p2;
        elsif (((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1))) then 
            head_ctx_ref_d0_local <= shl_ln163_fu_2401_p2;
        elsif (((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln160_fu_2381_p2;
        elsif (((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4))) then 
            head_ctx_ref_d0_local <= shl_ln168_fu_2361_p2;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state3)) then 
            head_ctx_ref_d0_local <= shl_ln11_fu_2159_p2;
        elsif ((ap_const_logic_1 = ap_CS_fsm_state2)) then 
            head_ctx_ref_d0_local <= shl_ln43_fu_2105_p2;
        else 
            head_ctx_ref_d0_local <= "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
        end if; 
    end process;

    head_ctx_ref_we0 <= head_ctx_ref_we0_local;

    head_ctx_ref_we0_local_assign_proc : process(start_read_read_fu_142_p2, ap_CS_fsm_state2, icmp_ln46_reg_2880, trunc_ln1_reg_2919, ap_CS_fsm_state3, or_ln158_reg_2924, tmp_26_reg_2928, or_ln148_reg_2932, tmp_24_reg_2936, or_ln138_reg_2940, tmp_22_reg_2944, or_ln128_reg_2948, tmp_20_reg_2952, or_ln108_reg_2956, tmp_18_reg_2960, or_ln91_reg_2964, tmp_16_reg_2968, or_ln80_reg_2972, tmp_14_reg_2976, Q_started_loc_0_reg_180, K_started_loc_0_reg_191, V_started_loc_0_reg_202, att_scores_started_loc_0_reg_213, val_scale_started_loc_0_reg_224, softmax_started_loc_0_reg_235, att_value_started_loc_0_reg_246, ap_CS_fsm_state4)
    begin
        if (((ap_const_logic_1 = ap_CS_fsm_state2) or ((trunc_ln1_reg_2919 = ap_const_lv8_0) and (start_read_read_fu_142_p2 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln80_reg_2972 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_1) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = Q_started_loc_0_reg_180) and (tmp_14_reg_2976 = ap_const_lv1_1) and (or_ln80_reg_2972 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln91_reg_2964 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_2) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = K_started_loc_0_reg_191) and (tmp_16_reg_2968 = ap_const_lv1_1) and (or_ln91_reg_2964 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_3) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_4) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 
    = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (or_ln108_reg_2956 = ap_const_lv1_0)) or ((trunc_ln1_reg_2919 = ap_const_lv8_5) and (ap_const_logic_1 = ap_CS_fsm_state4) and (ap_const_lv1_1 = V_started_loc_0_reg_202) and (tmp_18_reg_2960 = ap_const_lv1_1) and (or_ln108_reg_2956 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_6) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_7) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((trunc_ln1_reg_2919 = ap_const_lv8_8) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((or_ln128_reg_2948 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_20_reg_2952 = ap_const_lv1_1) and (or_ln128_reg_2948 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_9) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_scores_started_loc_0_reg_213 = ap_const_lv1_1)) or ((or_ln138_reg_2940 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4)) 
    or ((tmp_22_reg_2944 = ap_const_lv1_1) and (or_ln138_reg_2940 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_A) and (ap_const_logic_1 = ap_CS_fsm_state4) and (val_scale_started_loc_0_reg_224 = ap_const_lv1_1)) or ((or_ln148_reg_2932 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_24_reg_2936 = ap_const_lv1_1) and (or_ln148_reg_2932 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_B) and (ap_const_logic_1 = ap_CS_fsm_state4) and (softmax_started_loc_0_reg_235 = ap_const_lv1_1)) or ((or_ln158_reg_2924 = ap_const_lv1_0) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((tmp_26_reg_2928 = ap_const_lv1_1) and (or_ln158_reg_2924 = ap_const_lv1_1) and (trunc_ln1_reg_2919 = ap_const_lv8_C) and (ap_const_logic_1 = ap_CS_fsm_state4) and (att_value_started_loc_0_reg_246 = ap_const_lv1_1)) or ((trunc_ln1_reg_2919 = ap_const_lv8_D) and (ap_const_logic_1 = ap_CS_fsm_state4)) or ((icmp_ln46_reg_2880 = ap_const_lv1_0) 
    and (ap_const_logic_1 = ap_CS_fsm_state3)))) then 
            head_ctx_ref_we0_local <= ap_const_logic_1;
        else 
            head_ctx_ref_we0_local <= ap_const_logic_0;
        end if; 
    end process;

    icmp_ln46_fu_2116_p2 <= "1" when (trunc_ln46_fu_2112_p1 = layer_idx) else "0";
    lshr_ln42_1_fu_2047_p4 <= ctx(4 downto 3);
    lshr_ln42_fu_2077_p2 <= std_logic_vector(shift_right(unsigned(head_ctx_ref_q0),to_integer(unsigned('0' & zext_ln42_1_fu_2073_p1(31-1 downto 0)))));
    or_ln108_fu_2301_p2 <= (xor_ln108_fu_2295_p2 or ap_phi_mux_V_started_loc_0_phi_fu_205_p4);
    or_ln10_fu_2591_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_7) & trunc_ln109_fu_2587_p1);
    or_ln11_fu_2491_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_9) & trunc_ln129_fu_2487_p1);
    or_ln128_fu_2281_p2 <= (xor_ln128_fu_2275_p2 or ap_phi_mux_att_scores_started_loc_0_phi_fu_216_p4);
    or_ln12_fu_2451_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_B) & trunc_ln139_fu_2447_p1);
    or_ln138_fu_2261_p2 <= (xor_ln138_fu_2255_p2 or ap_phi_mux_val_scale_started_loc_0_phi_fu_227_p4);
    or_ln13_fu_2411_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_D) & trunc_ln149_fu_2407_p1);
    or_ln148_fu_2241_p2 <= (xor_ln148_fu_2235_p2 or ap_phi_mux_softmax_started_loc_0_phi_fu_238_p4);
    or_ln14_fu_2371_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_F) & trunc_ln159_fu_2367_p1);
    or_ln158_fu_2221_p2 <= (xor_ln158_fu_2215_p2 or ap_phi_mux_att_value_started_loc_0_phi_fu_249_p4);
    or_ln15_fu_2731_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_2) & trunc_ln86_fu_2727_p1);
    or_ln16_fu_2691_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_3) & trunc_ln97_fu_2687_p1);
    or_ln17_fu_2611_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_6) & trunc_ln114_fu_2607_p1);
    or_ln18_fu_2511_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_A) & trunc_ln133_fu_2507_p1);
    or_ln19_fu_2471_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_B) & trunc_ln143_fu_2467_p1);
    or_ln1_fu_2631_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_5) & trunc_ln105_fu_2627_p1);
    or_ln20_fu_2431_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_C) & trunc_ln153_fu_2427_p1);
    or_ln21_fu_2391_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_D) & trunc_ln163_fu_2387_p1);
    or_ln2_fu_2571_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_7) & trunc_ln119_fu_2567_p1);
    or_ln3_fu_2551_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_8) & trunc_ln122_fu_2547_p1);
    or_ln4_fu_2531_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_9) & trunc_ln125_fu_2527_p1);
    or_ln5_fu_2351_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_E) & trunc_ln168_fu_2347_p1);
    or_ln6_fu_2150_p4 <= ((tmp_reg_2870 & ap_const_lv19_0) & layer_idx);
    or_ln7_fu_2761_p4 <= ((tmp_13_fu_2747_p4 & ap_const_lv11_1) & trunc_ln66_fu_2757_p1);
    or_ln80_fu_2341_p2 <= (xor_ln80_fu_2335_p2 or ap_phi_mux_Q_started_loc_0_phi_fu_183_p4);
    or_ln8_fu_2711_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_3) & trunc_ln81_fu_2707_p1);
    or_ln91_fu_2321_p2 <= (xor_ln91_fu_2315_p2 or ap_phi_mux_K_started_loc_0_phi_fu_194_p4);
    or_ln9_fu_2671_p4 <= ((grp_fu_2039_p3 & ap_const_lv9_5) & trunc_ln92_fu_2667_p1);
    or_ln_fu_2651_p4 <= ((grp_fu_2029_p4 & ap_const_lv8_4) & trunc_ln102_fu_2647_p1);
    shl_ln102_fu_2661_p2 <= std_logic_vector(shift_left(unsigned(or_ln_fu_2651_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln105_fu_2641_p2 <= std_logic_vector(shift_left(unsigned(or_ln1_fu_2631_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln110_fu_2601_p2 <= std_logic_vector(shift_left(unsigned(or_ln10_fu_2591_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln114_fu_2621_p2 <= std_logic_vector(shift_left(unsigned(or_ln17_fu_2611_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln119_fu_2581_p2 <= std_logic_vector(shift_left(unsigned(or_ln2_fu_2571_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln11_fu_2159_p2 <= std_logic_vector(shift_left(unsigned(or_ln6_fu_2150_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln122_fu_2561_p2 <= std_logic_vector(shift_left(unsigned(or_ln3_fu_2551_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln125_fu_2541_p2 <= std_logic_vector(shift_left(unsigned(or_ln4_fu_2531_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln130_fu_2501_p2 <= std_logic_vector(shift_left(unsigned(or_ln11_fu_2491_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln133_fu_2521_p2 <= std_logic_vector(shift_left(unsigned(or_ln18_fu_2511_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln140_fu_2461_p2 <= std_logic_vector(shift_left(unsigned(or_ln12_fu_2451_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln143_fu_2481_p2 <= std_logic_vector(shift_left(unsigned(or_ln19_fu_2471_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln150_fu_2421_p2 <= std_logic_vector(shift_left(unsigned(or_ln13_fu_2411_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln153_fu_2441_p2 <= std_logic_vector(shift_left(unsigned(or_ln20_fu_2431_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln160_fu_2381_p2 <= std_logic_vector(shift_left(unsigned(or_ln14_fu_2371_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln163_fu_2401_p2 <= std_logic_vector(shift_left(unsigned(or_ln21_fu_2391_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln168_fu_2361_p2 <= std_logic_vector(shift_left(unsigned(or_ln5_fu_2351_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln43_fu_2105_p2 <= std_logic_vector(shift_left(unsigned(and_ln_fu_2095_p4),to_integer(unsigned('0' & zext_ln42_1_fu_2073_p1(31-1 downto 0)))));
    shl_ln76_fu_2771_p2 <= std_logic_vector(shift_left(unsigned(or_ln7_fu_2761_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln82_fu_2721_p2 <= std_logic_vector(shift_left(unsigned(or_ln8_fu_2711_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln86_fu_2741_p2 <= std_logic_vector(shift_left(unsigned(or_ln15_fu_2731_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln93_fu_2681_p2 <= std_logic_vector(shift_left(unsigned(or_ln9_fu_2671_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln97_fu_2701_p2 <= std_logic_vector(shift_left(unsigned(or_ln16_fu_2691_p4),to_integer(unsigned('0' & zext_ln42_1_reg_2844(31-1 downto 0)))));
    shl_ln_fu_2066_p3 <= (trunc_ln42_reg_2830 & ap_const_lv3_0);
    start_read_read_fu_142_p2 <= start_r;
    tmp_10_fu_2227_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_11_fu_2207_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_13_fu_2747_p4 <= empty_reg_257(51 downto 43);
    tmp_1_fu_2327_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_2_fu_2307_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_3_fu_2287_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_7_fu_2267_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_9_fu_2247_p3 <= ap_phi_mux_empty_phi_fu_260_p4(40 downto 40);
    tmp_fu_2083_p3 <= lshr_ln42_fu_2077_p2(51 downto 51);
    trunc_ln102_fu_2647_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln105_fu_2627_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln109_fu_2587_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln114_fu_2607_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln119_fu_2567_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln122_fu_2547_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln125_fu_2527_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln129_fu_2487_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln133_fu_2507_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln139_fu_2447_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln143_fu_2467_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln149_fu_2407_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln153_fu_2427_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln159_fu_2367_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln163_fu_2387_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln168_fu_2347_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln1_fu_2165_p4 <= ap_phi_mux_empty_phi_fu_260_p4(39 downto 32);
    trunc_ln42_1_fu_2091_p1 <= lshr_ln42_fu_2077_p2(42 - 1 downto 0);
    trunc_ln42_fu_2062_p1 <= ctx(3 - 1 downto 0);
    trunc_ln46_fu_2112_p1 <= lshr_ln42_fu_2077_p2(32 - 1 downto 0);
    trunc_ln66_fu_2757_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln81_fu_2707_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln86_fu_2727_p1 <= empty_reg_257(32 - 1 downto 0);
    trunc_ln92_fu_2667_p1 <= empty_reg_257(42 - 1 downto 0);
    trunc_ln97_fu_2687_p1 <= empty_reg_257(32 - 1 downto 0);
    xor_ln108_fu_2295_p2 <= (tmp_3_fu_2287_p3 xor ap_const_lv1_1);
    xor_ln128_fu_2275_p2 <= (tmp_7_fu_2267_p3 xor ap_const_lv1_1);
    xor_ln138_fu_2255_p2 <= (tmp_9_fu_2247_p3 xor ap_const_lv1_1);
    xor_ln148_fu_2235_p2 <= (tmp_10_fu_2227_p3 xor ap_const_lv1_1);
    xor_ln158_fu_2215_p2 <= (tmp_11_fu_2207_p3 xor ap_const_lv1_1);
    xor_ln80_fu_2335_p2 <= (tmp_1_fu_2327_p3 xor ap_const_lv1_1);
    xor_ln91_fu_2315_p2 <= (tmp_2_fu_2307_p3 xor ap_const_lv1_1);
    zext_ln42_1_fu_2073_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(shl_ln_fu_2066_p3),52));
    zext_ln42_fu_2057_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(lshr_ln42_1_fu_2047_p4),64));
end behav;
